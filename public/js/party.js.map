{"version":3,"sources":["../../src/js/party.js"],"names":["$dtsBanner","$","$dtsDungeons","$dungeonTeamCollection","$dtsBottom","$areaTeamSelect","$dungeonTeamButton","$dungeonTeamButtonSkip","Party","heroID","heroes","map","h","HeroManager","idToHero","save","member","includes","length","some","hero","dead","every","t","forEach","addTime","dungeonID","hp","maxHP","resetPlaybookPosition","removeBuffs","PartyCreator","dungeonSelect","areaSelect","removeMember","slotNum","splice","addMember","emptyPartySlots","push","clearMembers","validTeam","heroesReal","hid","alive","lockParty","inDungeon","party","startingTeam","team","statuses","dungeon","DungeonManager","dungeonByID","partySize","startPartyCreation","area","dungeons","id","show","empty","addClass","appendTo","html","name","d","data","mat","attr","i","characterCard","prependTo","emptySlots","d1a","prepend","removeClass","d1bot","append","d2","ownedHeroes","uniqueid","document","on","e","preventDefault","tabClick","currentTarget","dungeonCreatingID","ID","createDungeon","initializeSideBarDungeon","hide","$dungeonRun","Notifications","noPartySelected","prefix","dv","status","dclick","image","d3","miscIcons","pow","getPow","d5","getMax"],"mappings":"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","sourcesContent":["\"use strict\";\r\n//creates a party as outlined in DungeonManager. Initated with CreateParty();\r\n\r\nconst $dtsBanner = $(\"#dtsBanner\");\r\nconst $dtsDungeons = $(\"#dtsDungeons\");\r\nconst $dungeonTeamCollection = $(\"#dungeonTeamCollection\");\r\nconst $dtsBottom = $(\"#dtsBottom\");\r\nconst $areaTeamSelect = $(\"#areaTeamSelect\");\r\n\r\nconst $dungeonTeamButton = $(\"#dungeonTeamButton\");\r\nconst $dungeonTeamButtonSkip = $(\"#dungeonTeamButtonSkip\");\r\n\r\n\r\nclass Party {\r\n    constructor (heroID) {\r\n        this.heroID = heroID;\r\n        this.heroes = heroID.map(h => HeroManager.idToHero(h));\r\n    }\r\n    createSave() {\r\n        const save = {};\r\n        save.heroID = this.heroID;\r\n        return save;\r\n    }\r\n    hasMember(member) {\r\n        return this.heroes.includes(member);\r\n    }\r\n    size() {\r\n        return this.heroes.length;\r\n    }\r\n    alive() {\r\n        return this.heroes.some(hero => !hero.dead());\r\n    }\r\n    isDead() {\r\n        return this.heroes.every(hero => hero.dead());\r\n    }\r\n    addTime(t) {\r\n        this.heroes.forEach(h=> {\r\n            h.addTime(t, dungeonID);\r\n        })\r\n    }\r\n    reset() {\r\n        this.heroes.forEach(hero => {\r\n            hero.hp = hero.maxHP();\r\n            hero.resetPlaybookPosition();\r\n            hero.removeBuffs();\r\n        });\r\n    }\r\n}\r\n\r\nconst PartyCreator = {\r\n    heroes : [],\r\n    dungeonSelect : null,\r\n    areaSelect : null,\r\n    removeMember(slotNum) {\r\n        this.heroes.splice(slotNum,1);\r\n    },\r\n    addMember(heroID) {\r\n        if (this.emptyPartySlots() === 0) return false;\r\n        this.heroes.push(heroID);\r\n    },\r\n    clearMembers() {\r\n        this.heroes = [];\r\n    },\r\n    validTeam() {\r\n        if (this.heroes.length === 0) return false;\r\n        const heroesReal = this.heroes.map(hid => HeroManager.idToHero(hid));\r\n        return heroesReal.every(h => h.alive());\r\n    },\r\n    lockParty() {\r\n        this.heroes.map(hid => HeroManager.idToHero(hid)).forEach(h=>{\r\n            h.inDungeon = true;\r\n            h.hp = h.maxHP();\r\n        });\r\n        const party = new Party(this.heroes);\r\n        this.heroes = [];\r\n        return party;\r\n    },\r\n    startingTeam(team) {\r\n        if (team === null) return;\r\n        const statuses = team.map(h=>HeroManager.idToHero(h).inDungeon)\r\n        if (statuses.some(h=>h)) return;\r\n        team.forEach(h => this.addMember(h));\r\n    },\r\n    emptyPartySlots() {\r\n        const dungeon = DungeonManager.dungeonByID(this.dungeonSelect);\r\n        return dungeon.partySize - this.heroes.length;\r\n    }\r\n}\r\n\r\nfunction startPartyCreation() {\r\n    const area = PartyCreator.areaSelect;\r\n    const dungeon = DungeonManager.dungeonByID(PartyCreator.dungeonSelect);\r\n    if (PartyCreator.dungeonSelect === null) PartyCreator.dungeonSelect = area.dungeons[0].id;\r\n    $areaTeamSelect.show();\r\n    //Team Banner\r\n    $dtsBanner.empty();\r\n    $(\"<div/>\").addClass(`dts${area.id} dtsBackground`).appendTo($dtsBanner);\r\n    $(\"<div/>\").addClass(`dts${area.id} dtsHeader`).html(area.name).appendTo($dtsBanner);\r\n    $(\"<div/>\").addClass(`dts${area.id} dtsBackButton`).html(`<i class=\"fas fa-arrow-left\"></i>`).appendTo($dtsBanner);\r\n    //Possible Dungeons\r\n    $dtsDungeons.empty();\r\n    area.dungeons.forEach(dungeon => {\r\n        const d = $(\"<div/>\").addClass(\"dtsDungeon\").data(\"dungeonID\",dungeon.id);\r\n        $(\"<div/>\").addClass(\"dtsDungeonName\").html(dungeon.name).appendTo(d);\r\n        if (dungeon.mat !== null) $(\"<div/>\").addClass(\"dtsMaterial tooltip\").attr({\"data-tooltip\":\"material_desc\",\"data-tooltip-value\":dungeon.mat}).appendTo(d);\r\n    });\r\n    $dungeonTeamCollection.empty();\r\n    //actual members\r\n    PartyCreator.heroes.forEach((hero,i) => {\r\n        characterCard(\"dungeonTeam\",i,hero).prependTo($dungeonTeamCollection);\r\n    });\r\n    const emptySlots = DungeonManager.dungeonByID(PartyCreator.dungeonSelect).partySize - PartyCreator.heroes.length;\r\n    for (let i=0;i<emptySlots;i++) {\r\n        const d1a = characterCard(\"dungeonTeam\",i).addClass(\"noHeroDungeonSelect\");\r\n        $dungeonTeamCollection.prepend(d1a);\r\n    }\r\n    if (PartyCreator.heroes.length === 0) {\r\n        $dungeonTeamButton.addClass('dungeonStartNotAvailable');\r\n        $dungeonTeamButtonSkip.addClass('dungeonStartNotAvailable');\r\n    }\r\n    else {\r\n        $dungeonTeamButton.removeClass('dungeonStartNotAvailable');\r\n        $dungeonTeamButtonSkip.removeClass('dungeonStartNotAvailable');\r\n    }\r\n    $dtsBottom.empty();\r\n    //available heroes\r\n    const d1bot = $(\"<div/>\").addClass(\"dtsBotTitle\").html(\"<h3>Your Available Heroes</h3>\");\r\n    $dtsBottom.append(d1bot);\r\n    const d2 = $(\"<div/>\").addClass(\"dungeonAvailableCollection\");\r\n    HeroManager.ownedHeroes().forEach(hero => {\r\n        //if (dungeon.bannedHero.includes(hero.id)) characterCard(\"heroBanned dungeonNotAvailable\",hero.uniqueid,hero.id, \"Banned from Here\").appendTo(d2);\r\n        if (hero.inDungeon) characterCard(\"dungeonNotAvailable\",hero.uniqueid,hero.id,\"In Dungeon\").appendTo(d2);\r\n        else if (PartyCreator.heroes.includes(hero.id)) characterCard(\"partyHero dungeonNotAvailable\",hero.uniqueid,hero.id, \"Already in Party\").appendTo(d2);\r\n        else characterCard(\"dungeonAvailable\",hero.uniqueid,hero.id,null).appendTo(d2);\r\n    });\r\n    $dtsBottom.append(d2);\r\n}\r\n\r\n//Go back to dungeon select screen\r\n$(document).on('click', \".dtsBackButton\", (e) => {\r\n    e.preventDefault();\r\n    tabClick(e, \"dungeonsTab\");\r\n});\r\n\r\n//clicking a hero to remove them from your party\r\n$(document).on('click', \"div.dungeonTeamCardClick\", (e) => {\r\n    e.preventDefault();\r\n    const heroID = $(e.currentTarget).attr(\"heroID\");\r\n    PartyCreator.removeMember(heroID);\r\n    startPartyCreation(DungeonManager.dungeonCreatingID);\r\n});\r\n\r\n//clicking a hero to add them to your party\r\n$(document).on('click', \"div.dungeonAvailableCardClick\", (e) => {\r\n    e.preventDefault();\r\n    const ID = $(e.currentTarget).attr(\"heroid\");\r\n    PartyCreator.addMember(ID);\r\n    startPartyCreation(DungeonManager.dungeonCreatingID);\r\n});\r\n\r\n//locking in a team to start a dungeon\r\n$(document).on('click', \"#dungeonTeamButton\", (e) => {\r\n    e.preventDefault();\r\n    if (PartyCreator.validTeam()) {\r\n        DungeonManager.createDungeon(PartyCreator.dungeonSelect,false);\r\n        initializeSideBarDungeon();\r\n        $areaTeamSelect.hide();\r\n        $dungeonRun.show();\r\n    }\r\n    else {\r\n        Notifications.noPartySelected();\r\n    }\r\n});\r\n\r\n$(document).on('click', \"#dungeonTeamButtonSkip\", (e) => {\r\n    e.preventDefault();\r\n    if (PartyCreator.validTeam()) {\r\n        DungeonManager.createDungeon(PartyCreator.dungeonSelect,true);\r\n        initializeSideBarDungeon();\r\n        $areaTeamSelect.hide();\r\n        $dungeonRun.show();\r\n    }\r\n    else {\r\n        Notifications.noPartySelected();\r\n    }\r\n});\r\n\r\nfunction characterCard(prefix,dv,ID,status) {\r\n    const d = $(\"<div/>\").addClass(prefix+\"Card\").attr(\"data-value\",dv);\r\n    if (!ID) {\r\n        $(\"<div/>\").addClass(prefix+\"Image\").html('<img src=\"/assets/images/heroes/blank.png\">').appendTo(d);\r\n        $(\"<div/>\").addClass(prefix+\"Name\").html(\"Empty\").appendTo(d);\r\n        return d;\r\n    }\r\n    const dclick = $(\"<div/>\").addClass(prefix+\"CardClick\").attr(\"heroID\",dv).appendTo(d);\r\n    const hero = HeroManager.idToHero(ID);\r\n    $(\"<div/>\").addClass(prefix+\"Image\").html(hero.image).appendTo(dclick);\r\n    $(\"<div/>\").addClass(prefix+\"Name\").html(hero.name).appendTo(dclick);\r\n    const d3 = $(\"<div/>\").addClass(prefix+\"Stats\").appendTo(dclick);\r\n        $(\"<div/>\").addClass(prefix+\"HP\"+\" heroStat\"+\" tooltip\").attr(\"data-tooltip\",\"hp\").html(`${miscIcons.hp} ${hero.maxHP()}`).appendTo(d3);\r\n        $(\"<div/>\").addClass(prefix+\"Pow\"+\" heroPowStat\"+\" tooltip\").attr(\"data-tooltip\",\"pow\").html(`${miscIcons.pow} ${hero.getPow()}`).appendTo(d3);\r\n    const d5 = $(\"<div/>\").addClass(\"heroStatus\").html(status).appendTo(dclick);\r\n    if (status === null) d5.hide();\r\n    else d.addClass(\"heroUnavailable\");\r\n    $(\"<div/>\").addClass(\"partyMaxFloor\").html(`Floor ${hero.getMax(DungeonManager.dungeonCreatingID)}`).appendTo(dclick);\r\n    return d;\r\n}"],"file":"party.js"}