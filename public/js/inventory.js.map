{"version":3,"sources":["../../src/js/inventory.js"],"names":["$","on","e","preventDefault","id","target","attr","Inventory","sellInventoryIndex","document","sortInventory","sellCommons","invID","gearEquipFromInventory","hide","show","heroID","equippingTo","parseInt","HeroManager","equipItem","equipContainerTarget","containerID","heroView","examineHero","containerid","itemContainer","rarity","item","recipeList","idToItem","name","type","lvl","sharp","seed","Math","floor","random","scale","powRatio","pow","hpRatio","hp","techRatio","tech","pts","result","save","undefined","itemPic","prefix","miscIcons","star","sharpIncrease","ratioMod","statCalc","max","powScale","hpScale","techScale","flat","sharpAdd","miscLoadedValues","rarityMod","ceil","ResourceManager","materialIcon","formatToUnits","goldValue","round","value","mcost","Object","keys","deconType","craftTime","stats","heroStat","adjective","toString","ratio","rarities","blankItemStat","inv","createArray","invMax","createSave","forEach","i","push","loadSave","container","addFuseToInventory","fuse","full","findempty","examineGearTypesCache","includes","examineHeroPossibleEquip","examineGearSlotCache","examineGearHeroIDCache","addToInventory","skipAnimation","sellContainer","findIndex","r","refreshInventoryPlaces","craftToInventory","TownManager","buildingRecipes","unlockBldg","addCount","roll","sellToggleChart","sellToggle","autoSell","procRate","craftChance","epic","epicItem","Notifications","exceptionalCraft","achievementStats","craftedItem","great","greatItem","good","goodItem","commonItem","masterMod","isMastered","fortuneMod","FortuneManager","getProcModifier","mods","qualityCheck","removeFromInventoryUID","uniqueID","nonblank","find","removeContainerFromInventory","filter","c","hasContainer","some","indx","tinkerAteIt","TinkerManager","feedCommon","gold","addMaterial","listbyType","types","containerToItem","modifier","length","inventoryCount","sort","a","b","inventorySort","getMaxPowByTypes","pows","map","p","getMaxHPByTypes","hps","ic","recipeType","getFusePossibilities","fuses","fuseSorted","reduce","fuseList","fuseFiltered","entries","idR","num","uniqueIDProperties","hasThree","itemCount","itemCountAll","itemCountSpecific","findCraftMatch","higherRarity","nonEpic","props","split","recipe","$inventory","$sideInventory","$sideInventoryAmt","refreshInventory","empty","itemdiv","addClass","itemName","itemRarity","itemLevel","itemCost","itemProps","actionBtns","html","emptySlot","appendTo","append","picName","toLowerCase","formatWithCommas","goldValueFormatted","itemStat","stat","val","removeClass","createInventoryCard","$ietEquip","$ietHero","heroBlocks","slotsByItem","hb","hero","idToHero","d","d1","head","d2","d3","canEquip","tf","d4","currentStats","getSlot","newStats","same","deltaStat","d4a","refreshCardInvCount","refreshOrderInvCount","refreshPossibleFuse","refreshBankInventory","refreshSmithInventory","refreshSmithStage","refreshSynthInventory","refreshFortuneGear","refreshTrinketInventory"],"mappings":"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","sourcesContent":["$('#inventory').on(\"click\",\".inventorySell\",(e) => {\r\n    e.preventDefault();\r\n    const id = $(e.target).attr(\"id\");\r\n    Inventory.sellInventoryIndex(id);\r\n})\r\n\r\n$(document).on(\"click\",\"#sortInventory\",(e) => {\r\n    e.preventDefault();\r\n    Inventory.sortInventory();\r\n});\r\n\r\n$(document).on(\"click\",\"#sellAllCommons\",(e) => {\r\n    e.preventDefault();\r\n    Inventory.sellCommons();\r\n    Inventory.sortInventory();\r\n});\r\n\r\n$(document).on(\"click\",\".inventoryEquip\",(e) => {\r\n    e.preventDefault();\r\n    const invID = $(e.target).attr(\"id\");\r\n    gearEquipFromInventory(invID);\r\n})\r\n\r\n$(document).on(\"click\",\"#closeEquipItem\",(e) => {\r\n    e.preventDefault();\r\n    $(\".tabcontent\").hide();\r\n    $(\"#inventoryTab\").show();\r\n})\r\n\r\n$(document).on(\"click\",\".heroEquipBlockEquipButton\",(e) => {\r\n    const heroID = $(e.target).attr(\"hid\");\r\n    const equippingTo = parseInt($(e.target).attr(\"sid\"));\r\n    HeroManager.equipItem(equipContainerTarget.containerID,heroID,equippingTo);\r\n    if (HeroManager.heroView === heroID) examineHero(heroID);\r\n    $(\".tabcontent\").hide();\r\n    $(\"#inventoryTab\").show();\r\n})\r\n\r\nlet containerid = 0;\r\n\r\nclass itemContainer {\r\n    constructor(id,rarity) {\r\n        this.id = id;\r\n        this.item = recipeList.idToItem(id);\r\n        this.name = this.item.name;\r\n        this.type = this.item.type;\r\n        this.lvl = this.item.lvl;\r\n        this.rarity = rarity;\r\n        this.containerID = containerid;\r\n        this.sharp = 0;\r\n        this.seed = Math.floor(Math.random() * 1000000);\r\n        this.scale = 0;\r\n        this.powRatio = this.item.pow;\r\n        this.hpRatio = this.item.hp;\r\n        this.techRatio = this.item.tech;\r\n        this.pts = this.item.pts;\r\n        containerid += 1;\r\n    }\r\n    uniqueID() {\r\n        const result = this.id+\"_\"+this.rarity+\"_\"+this.sharp;\r\n        if (this.scale > 0) return result + \"_\" + this.scale;\r\n        return result;\r\n    }\r\n    createSave() {\r\n        const save = {};\r\n        save.id = this.id;\r\n        save.rarity = this.rarity;\r\n        save.sharp = this.sharp;\r\n        save.seed = this.seed;\r\n        save.scale = this.scale;\r\n        save.powRatio = this.powRatio;\r\n        save.hpRatio = this.hpRatio;\r\n        save.techRatio = this.techRatio;\r\n        return save;\r\n    }\r\n    loadSave(save) {\r\n        this.sharp = save.sharp;\r\n        if (save.seed !== undefined) this.seed = save.seed;\r\n        if (save.scale !== undefined) this.scale = save.scale;\r\n        if (save.powRatio !== undefined) this.powRatio = save.powRatio;\r\n        if (save.hpRatio !== undefined) this.hpRatio = save.hpRatio;\r\n        if (save.techRatio !== undefined) this.techRatio = save.techRatio;\r\n    }\r\n    picName() {\r\n        const sharp = this.sharp > 0 ? `+${this.sharp} ` : \"\";\r\n        return `${this.item.itemPic()}<div class=\"item-prefix-name\"><span class=\"item-prefix\">${sharp}${this.prefix()}${this.item.name}</span></div>`;\r\n    }\r\n    picNamePlus() {\r\n        const sharp = `<span class=\"item-prefix\">+${this.sharp + 1} </span>`\r\n        return `${this.item.itemPic()}<div class=\"item-prefix-name\"><span class=\"item-prefix\">${sharp}${this.prefix()}${this.item.name}</span></div>`;\r\n    }\r\n    itemLevel() {\r\n        if (this.scale > 0) return `<div class=\"level_text\">${miscIcons.star}</div><div class=\"level_integer\">${this.scale}</div>`;\r\n        return `<div class=\"level_text\">LVL</div><div class=\"level_integer\">${this.lvl}</div>`;\r\n    }\r\n    pow(sharpIncrease = 0, ratioMod = 0) {\r\n        return this.statCalc(Math.max(0,this.powRatio + ratioMod) * this.pts , this.item.powScale , sharpIncrease);\r\n    }\r\n    hp(sharpIncrease = 0, ratioMod = 0) {\r\n        return this.statCalc(Math.max(0,9*(this.hpRatio + ratioMod)) * this.pts , this.item.hpScale , sharpIncrease);\r\n    }\r\n    tech(sharpIncrease = 0, ratioMod = 0) {\r\n        return this.statCalc(Math.max(0,this.techRatio + ratioMod) * this.pts, this.item.techScale , sharpIncrease);\r\n    }\r\n    statCalc(flat,scale,sharpIncrease) {\r\n        const sharpAdd = sharpIncrease ? 1 : 0;\r\n        return Math.floor((flat * miscLoadedValues.rarityMod[this.rarity] + Math.ceil(scale * this.scale)) * (1+0.05*(this.sharp+sharpAdd)));\r\n    }\r\n    goldValueFormatted() {\r\n        return `${ResourceManager.materialIcon(\"M001\")} <span class=\"goldValue\">${formatToUnits(this.goldValue(),2)}</span>`;\r\n    }\r\n    goldValue() {\r\n        return Math.round(this.item.value * (this.rarity+1) * (1+this.sharp*0.1));\r\n    }\r\n    material() {\r\n        if (!this.item.mcost) return \"M201\";\r\n        return Object.keys(this.item.mcost)[0]\r\n    }\r\n    deconType() {\r\n        return this.item.deconType;\r\n    }\r\n    deconAmt() {\r\n        return Math.floor(this.item.craftTime / 4000);\r\n    }\r\n    itemStat(sharpIncrease = 0, powRatio = 0, hpRatio = 0, techRatio = 0) {\r\n        const stats = {};\r\n        stats[heroStat.pow] = this.pow(sharpIncrease, powRatio);\r\n        stats[heroStat.hp] = this.hp(sharpIncrease, hpRatio);\r\n        stats[heroStat.tech] = this.tech(sharpIncrease, techRatio);\r\n        return stats;\r\n    }\r\n    isTrinket() {\r\n        return this.item.type === \"Trinkets\";\r\n    }\r\n    prefix() {\r\n        if (this.powRatio === this.item.pow && this.hpRatio === this.item.hp && this.techRatio === this.item.tech) return \"\";\r\n        return `${adjective[this.powRatio.toString() + this.hpRatio.toString() + this.techRatio.toString()]} `\r\n    }\r\n    transform(ratio) {\r\n        this.powRatio = Math.max(0,this.powRatio + ratio[0]);\r\n        this.hpRatio = Math.max(0,this.hpRatio + ratio[1]);\r\n        this.techRatio = Math.max(0,this.techRatio + ratio[2]);\r\n    }\r\n    maxRatio() {\r\n        return Math.max(this.powRatio,this.hpRatio,this.techRatio);\r\n    }\r\n}\r\n\r\nconst adjective = {\r\n    \"300\" : \"Powerful\",\r\n    \"210\" : \"Sturdy\",\r\n    \"201\" : \"Strong\",\r\n    \"120\" : \"Mighty\",\r\n    \"111\" : \"Balanced\",\r\n    \"102\" : \"Potent\",\r\n    \"012\" : \"Wonderous\",\r\n    \"021\" : \"Unwieldy\",\r\n    \"030\" : \"Bulky\",\r\n    \"003\" : \"Mystical\",\r\n}\r\n\r\nconst rarities = {\r\n    0: \"Common\",\r\n    1: \"Good\",\r\n    2: \"Great\",\r\n    3: \"Epic\"\r\n}\r\n\r\nfunction blankItemStat() {\r\n    const stats = {};\r\n    stats[heroStat.pow] = 0;\r\n    stats[heroStat.hp] = 0;\r\n    stats[heroStat.tech] = 0;\r\n    return stats;\r\n}\r\n\r\nconst Inventory = {\r\n    inv : createArray(20,null),\r\n    invMax : 20,\r\n    createSave() {\r\n        const save = [];\r\n        this.inv.forEach(i => {\r\n            if (i === null) save.push(null);\r\n            else save.push(i.createSave());\r\n        });\r\n        return save;\r\n    },\r\n    loadSave(save) {\r\n        save.forEach((item,i) => {\r\n            if (item === null) return;\r\n            const container = new itemContainer(item.id,item.rarity);\r\n            container.loadSave(item);\r\n            this.inv[i] = container;\r\n        });\r\n    },\r\n    addFuseToInventory(fuse) {\r\n        if (this.full()) return;\r\n        const container = new itemContainer(fuse.id,fuse.rarity);\r\n        container.sharp = fuse.sharp;\r\n        this.findempty(container);\r\n        const item = recipeList.idToItem(container.id);\r\n        if (examineGearTypesCache.includes(item.type)) {\r\n            examineHeroPossibleEquip(examineGearSlotCache,examineGearHeroIDCache);\r\n        }\r\n    },\r\n    addToInventory(container,skipAnimation) {\r\n        if (this.full()) this.sellContainer(container);\r\n        else {\r\n            this.findempty(container,skipAnimation);\r\n            if (examineGearTypesCache.includes(container.item.type)) {\r\n                examineHeroPossibleEquip(examineGearSlotCache,examineGearHeroIDCache,skipAnimation);\r\n            }\r\n        }\r\n    },\r\n    findempty(item,skipAnimation) {\r\n        const i = this.inv.findIndex(r=>r===null);\r\n        this.inv[i] = item;\r\n        if (skipAnimation) return;\r\n        refreshInventoryPlaces();\r\n    },\r\n    craftToInventory(id,skipAnimation) {\r\n        if (TownManager.buildingRecipes().includes(id)) return TownManager.unlockBldg(id);\r\n        const item = recipeList.idToItem(id)\r\n        item.addCount(skipAnimation);\r\n        const roll = Math.floor(Math.random() * 1000);\r\n        const sellToggleChart = {\r\n            \"None\" : 0,\r\n            \"Common\" : 1,\r\n            \"Good\" : 2,\r\n            \"Great\" : 3,\r\n            \"Epic\" : 4,\r\n        }\r\n        const sellToggle = sellToggleChart[item.autoSell];\r\n        const procRate = this.craftChance(item);\r\n        if (roll < procRate.epic) {\r\n            const epicItem = new itemContainer(id,3);\r\n            if (sellToggle < 4) {\r\n                this.addToInventory(epicItem,skipAnimation);\r\n                Notifications.exceptionalCraft(item.name,\"Epic\",\"craftEpic\");\r\n            }\r\n            else this.sellContainer(epicItem,skipAnimation);\r\n            achievementStats.craftedItem(\"Epic\");\r\n        }\r\n        else if (roll < (procRate.epic+procRate.great)) {\r\n            const greatItem = new itemContainer(id,2);\r\n            if (sellToggle < 3) {\r\n                this.addToInventory(greatItem,skipAnimation);\r\n                Notifications.exceptionalCraft(item.name,\"Great\",\"craftGreat\");\r\n            }\r\n            else this.sellContainer(greatItem,skipAnimation);\r\n            achievementStats.craftedItem(\"Great\");\r\n        }\r\n        else if (roll < (procRate.epic+procRate.great+procRate.good)) {\r\n            const goodItem = new itemContainer(id,1);\r\n            if (sellToggle < 2) {\r\n                this.addToInventory(goodItem,skipAnimation);\r\n                Notifications.exceptionalCraft(item.name,\"Good\",\"craftGood\");\r\n            }\r\n            else this.sellContainer(goodItem,skipAnimation);\r\n            achievementStats.craftedItem(\"Good\");\r\n            \r\n        }\r\n        else {\r\n            const commonItem = new itemContainer(id,0);\r\n            if (sellToggle < 1) this.addToInventory(commonItem,skipAnimation);\r\n            else this.sellContainer(commonItem,skipAnimation);\r\n            achievementStats.craftedItem(\"Common\");\r\n        }\r\n    },\r\n    craftChance(item) {\r\n        const masterMod = item.isMastered() ? 2 : 1;\r\n        const fortuneMod = FortuneManager.getProcModifier(item.type, item.lvl);\r\n        const mods = {};\r\n        mods.good = miscLoadedValues.qualityCheck[1]*masterMod*fortuneMod[0];\r\n        mods.great = miscLoadedValues.qualityCheck[2]*masterMod*fortuneMod[1];\r\n        mods.epic = miscLoadedValues.qualityCheck[3]*masterMod*fortuneMod[2];\r\n        return mods;\r\n    },\r\n    removeFromInventoryUID(uniqueID) {\r\n        const container = this.nonblank().find(i=>i.uniqueID() === uniqueID);\r\n        this.removeContainerFromInventory(container.containerID);\r\n        refreshInventoryPlaces();\r\n    },\r\n    removeContainerFromInventory(containerID) {\r\n        this.inv = this.inv.filter(c=>c === null || c.containerID !== containerID);\r\n        this.inv.push(null);\r\n        refreshInventoryPlaces()\r\n    },\r\n    hasContainer(containerID) {\r\n        return this.nonblank().some(c => c.containerID === containerID);\r\n    },\r\n    sellInventoryIndex(indx) {\r\n        const item = this.inv[indx];\r\n        this.inv[indx] = null;\r\n        this.sellContainer(item);\r\n        refreshInventoryPlaces()\r\n    },\r\n    sellContainer(container,skipAnimation) {\r\n        const tinkerAteIt = TinkerManager.feedCommon(container);\r\n        if (tinkerAteIt) return;\r\n        const gold = container.goldValue();\r\n        achievementStats.gold(gold);\r\n        ResourceManager.addMaterial(\"M001\",gold,skipAnimation);\r\n    },\r\n    listbyType(types) {\r\n        return this.nonblank().filter(r=>types.includes(r.type));\r\n    },\r\n    containerToItem(containerID) {\r\n        return this.nonblank().find(r=>r.containerID===containerID)\r\n    },\r\n    full(modifier = 1) {\r\n        return this.nonblank().length > this.inv.length - modifier;\r\n    },\r\n    inventoryCount() {\r\n        return this.nonblank().length;\r\n    },\r\n    nonblank() {\r\n        return this.inv.filter(r=>r !== null);\r\n    },\r\n    sortInventory() {\r\n        this.inv = this.inv.filter(c=>c !== null);\r\n        this.inv.sort((a,b) => inventorySort(a,b));\r\n        while (this.inv.length < this.invMax) {\r\n            this.inv.push(null);\r\n        }\r\n        refreshInventoryPlaces()\r\n    },\r\n    getMaxPowByTypes(types) {\r\n        //given a list of types, return highest power\r\n        const pows = this.inv.filter(i => i !== null && types.includes(i.type)).map(p => p.pow());\r\n        if (pows.length === 0) return 0;\r\n        return Math.max(...pows);\r\n    },\r\n    getMaxHPByTypes(types) {\r\n        //given a list of types, return highest power\r\n        const hps = this.inv.filter(i => i !== null && types.includes(i.type)).map(p => p.hp());\r\n        if (hps.length === 0) return 0;\r\n        return Math.max(...hps);\r\n    },\r\n    sellCommons() {\r\n        this.inv.forEach((ic,indx) => {\r\n            if (ic !== null && ic.rarity === 0 && ic.item.recipeType === \"normal\") this.sellInventoryIndex(indx);\r\n        })\r\n    },\r\n    getFusePossibilities() {\r\n        const fuses = this.nonblank().filter(container => container.item.recipeType === \"normal\").map(container=>container.uniqueID())\r\n        const fuseSorted = fuses.reduce((fuseList, item) => {\r\n            if (item in fuseList) fuseList[item]++;\r\n            else fuseList[item] = 1;\r\n            return fuseList;\r\n        },{});\r\n        const fuseFiltered = [];\r\n        for (let [idR, num] of Object.entries(fuseSorted)) {\r\n            if (num < 3) continue;\r\n            const fuse = uniqueIDProperties(idR);\r\n            fuse.rarity += 1;\r\n            if (fuse.rarity > 3) continue;\r\n            fuseFiltered.push(fuse);\r\n        }\r\n        return fuseFiltered;\r\n    },\r\n    hasThree(uniqueID) {\r\n        const inv = this.nonblank().filter(i=> i.uniqueID() === uniqueID);\r\n        return inv.length >= 3;\r\n    },\r\n    itemCount(id,rarity) {\r\n        return this.nonblank().filter(r=>r.id === id && r.rarity === rarity).length;\r\n    },\r\n    itemCountAll(id) {\r\n        return this.nonblank().filter(r=>r.id === id).length;\r\n    },\r\n    itemCountSpecific(uniqueID) {\r\n        return this.nonblank().filter(i => i.uniqueID() === uniqueID).length;\r\n    },\r\n    findCraftMatch(uniqueID) {\r\n        return this.nonblank().find(i => i.uniqueID() === uniqueID);\r\n    },\r\n    higherRarity() {\r\n        return this.nonblank().filter(i => i.rarity > 0);\r\n    },\r\n    nonEpic() {\r\n        return this.nonblank().filter(i => i.rarity < 3 && i.item.recipeType === \"normal\");\r\n    },\r\n}\r\n\r\nfunction uniqueIDProperties(uniqueID) {\r\n    const props = uniqueID.split(\"_\");\r\n    const item = {};\r\n    item.uniqueID = uniqueID;\r\n    item.id = props[0];\r\n    const recipe = recipeList.idToItem(item.id);\r\n    item.rarity = parseInt(props[1]);\r\n    item.sharp = parseInt(props[2]);\r\n    item.name = (item.sharp > 0) ? `${recipe.itemPic()} +${item.sharp} ${recipe.name}` : `${recipe.itemPic()} ${recipe.name}`;\r\n    return item;\r\n}\r\n\r\nconst $inventory = $(\"#inventory\");\r\nconst $sideInventory = $(\"#inventorySidebar\");\r\nconst $sideInventoryAmt = $(\"#invSidebarAmt\");\r\n\r\nfunction refreshInventory() {\r\n    $inventory.empty();\r\n    //build the sorted inventory\r\n    Inventory.inv.forEach((item,i) => {\r\n        const itemdiv = $(\"<div/>\").addClass(\"inventoryItem\");\r\n        const itemName = $(\"<div/>\").addClass(\"inventoryItemName\");\r\n        const itemRarity = $(\"<div/>\").addClass(`inventoryItemRarity`);\r\n        const itemLevel = $(\"<div/>\").addClass(\"inventoryItemLevel\");\r\n        const itemCost = $(\"<div/>\").addClass(\"inventoryItemValue\")\r\n        const itemProps = $(\"<div/>\").addClass(\"inventoryProps\");\r\n        const actionBtns = $(\"<div/>\").addClass(\"inventoryButtons\");\r\n        if (item === null) {\r\n            // Empty Inventory Item Filler for Styling\r\n            itemdiv.addClass(\"inventoryItemEmpty\");\r\n                $(\"<div/>\").addClass(\"inventoryItemEmptyIcon\").html(miscIcons.emptySlot).appendTo(itemName);\r\n                $(\"<div/>\").addClass(\"inventoryItemEmptyText\").html(`Empty Slot`).appendTo(itemName);\r\n                $(\"<div/>\").addClass(\"invPropStat\").html(`<span></span>`).appendTo(itemProps);\r\n                $(\"<div/>\").addClass(\"invPropStat\").html(`<span></span>`).appendTo(itemProps);\r\n                $(\"<div/>\").addClass(\"invPropStat\").html(`<span></span>`).appendTo(itemProps);\r\n                $(\"<div/>\").appendTo(actionBtns);\r\n                $(\"<div/>\").appendTo(actionBtns);\r\n            itemdiv.append(itemName,itemRarity,itemLevel,itemProps,actionBtns);\r\n            $inventory.append(itemdiv);\r\n            return;\r\n        }\r\n        itemdiv.addClass(\"R\"+item.rarity)\r\n        itemName.addClass(\"itemName\").attr({\"id\": item.id, \"r\": item.rarity}).html(item.picName());\r\n        itemRarity.addClass(`RT${item.rarity} tooltip`).attr({\"data-tooltip\": `rarity_${rarities[item.rarity].toLowerCase()}`}).html(miscIcons.rarity);\r\n        itemCost.addClass(\"tooltip\").attr({\"data-tooltip\": \"gold_value\", \"data-tooltip-value\": formatWithCommas(item.goldValue())}).html(item.goldValueFormatted());\r\n        itemLevel.addClass(\"tooltip\").attr({\"data-tooltip\": \"item_level\"}).html(item.itemLevel());\r\n        if (item.goldValue() === 0) {\r\n            itemCost.hide();\r\n        }\r\n        if (item.lvl === 0 && item.scale === 0) {\r\n            itemLevel.hide();\r\n        }\r\n        for (const [stat, val] of Object.entries(item.itemStat(false))) {\r\n            if (val === 0) continue;\r\n            $(\"<div/>\").addClass(\"invPropStat tooltip\").attr(\"data-tooltip\", stat).html(`${miscIcons[stat]} <span class=\"statValue\">${val}</span>`).appendTo(itemProps);\r\n        };\r\n        if (item.item.recipeType === \"normal\" || item.item.recipeType === \"trinket\") {\r\n            $(\"<div/>\").addClass('inventoryEquip').attr(\"id\",i).html(\"Equip\").appendTo(actionBtns);\r\n        }\r\n        if (item.item.recipeType === \"trinket\") {\r\n            itemLevel.attr({\"data-tooltip\": \"star_rating\"});\r\n            itemRarity.hide();\r\n        }\r\n        if (item.goldValue() > 0) {\r\n            $(\"<div/>\").addClass('inventorySell').attr(\"id\",i).html(\"Sell\").appendTo(actionBtns);\r\n        }\r\n        else {\r\n            $(\"<div/>\").addClass('inventorySell').attr(\"id\",i).html(\"Discard\").appendTo(actionBtns);\r\n        }\r\n        itemdiv.append(itemName,itemRarity,itemLevel,itemCost,itemProps,actionBtns);\r\n        $inventory.append(itemdiv);\r\n    });\r\n    $sideInventoryAmt.html(`${Inventory.inventoryCount()}/20`)\r\n    if (Inventory.inventoryCount() === 20) $sideInventory.addClass(\"inventoryFullSide\");\r\n    else $sideInventory.removeClass(\"inventoryFullSide\");\r\n}\r\n\r\nfunction createInventoryCard(container,i) {\r\n    const itemdiv = $(\"<div/>\").addClass(\"inventoryItem\").addClass(\"R\"+container.rarity);\r\n    const itemName = $(\"<div/>\").addClass(\"inventoryItemName itemName\").attr({\"id\": container.id, \"r\": container.rarity}).html(container.picName());\r\n    const itemRarity = $(\"<div/>\").addClass(`inventoryItemRarity RT${container.rarity} tooltip`).attr({\"data-tooltip\": `rarity_${rarities[container.rarity].toLowerCase()}`}).html(miscIcons.rarity);\r\n    const itemCost = $(\"<div/>\").addClass(\"inventoryItemValue tooltip\").attr({\"data-tooltip\": \"gold_value\", \"data-tooltip-value\": formatWithCommas(container.goldValue())}).html(container.goldValueFormatted());\r\n    const itemLevel = $(\"<div/>\").addClass(\"inventoryItemLevel tooltip\").attr({\"data-tooltip\": \"item_level\"}).html(container.itemLevel());\r\n    if (container.goldValue() === 0) {\r\n        itemCost.hide();\r\n    }\r\n    if (container.lvl === 0 && container.scale === 0) {\r\n        itemLevel.hide();\r\n    }\r\n    const itemProps = $(\"<div/>\").addClass(\"inventoryProps\");\r\n    for (const [stat, val] of Object.entries(container.itemStat(false))) {\r\n        if (val === 0) continue;\r\n        $(\"<div/>\").addClass(\"invPropStat tooltip\").attr(\"data-tooltip\", stat).html(`${miscIcons[stat]} <span class=\"statValue\">${val}</span>`).appendTo(itemProps);\r\n    };\r\n    const actionBtns = $(\"<div/>\").addClass(\"inventoryButtons\");\r\n    if (container.item.recipeType === \"normal\" || container.item.recipeType === \"trinket\") {\r\n        $(\"<div/>\").addClass('inventoryEquip').attr(\"id\",i).html(\"Equip\").appendTo(actionBtns);\r\n    }\r\n    if (container.item.recipeType === \"trinket\") {\r\n        itemLevel.attr({\"data-tooltip\": \"star_rating\"});\r\n        itemRarity.hide();\r\n    }\r\n    if (container.goldValue() > 0) {\r\n        $(\"<div/>\").addClass('inventorySell').attr(\"id\",i).html(\"Sell\").appendTo(actionBtns);\r\n    }\r\n    else {\r\n        $(\"<div/>\").addClass('inventorySell').attr(\"id\",i).html(\"Discard\").appendTo(actionBtns);\r\n    }\r\n    itemdiv.append(itemName,itemRarity,itemLevel,itemCost,itemProps,actionBtns);\r\n    return itemdiv;\r\n}\r\n\r\nlet equipContainerTarget = null;\r\nconst $ietEquip = $(\"#ietEquip\");\r\nconst $ietHero = $(\"#ietHero\");\r\n\r\nfunction gearEquipFromInventory(invID) {\r\n    $ietEquip.empty();\r\n    $ietHero.empty();\r\n    equipContainerTarget = Inventory.inv[invID];\r\n    const item = equipContainerTarget.item;\r\n    const itemdiv = $(\"<div/>\").addClass(\"equipItem\");\r\n    itemdiv.addClass(\"R\"+equipContainerTarget.rarity)\r\n    const itemName = $(\"<div/>\").addClass(\"equipItemName itemName\").attr(\"id\",item.id).attr(\"r\",equipContainerTarget.rarity).html(equipContainerTarget.picName());\r\n    const itemRarity = $(\"<div/>\").addClass(`inventoryItemRarity RT${equipContainerTarget.rarity} tooltip`).attr({\"data-tooltip\": `rarity_${rarities[equipContainerTarget.rarity].toLowerCase()}`}).html(miscIcons.rarity);\r\n    const itemLevel = $(\"<div/>\").addClass(\"equipItemLevel tooltip\").attr({\"data-tooltip\": \"item_level\"}).html(equipContainerTarget.itemLevel());\r\n    const itemProps = $(\"<div/>\").addClass(\"equipItemProps\");\r\n    for (const [stat, val] of Object.entries(equipContainerTarget.itemStat(false))) {\r\n        if (val === 0) continue;\r\n        $(\"<div/>\").addClass(\"invPropStat tooltip\").attr(\"data-tooltip\", stat).html(`${miscIcons[stat]} <span class=\"statValue\">${val}</span>`).appendTo(itemProps);\r\n    };\r\n    if (equipContainerTarget.item.recipeType === \"trinket\") {\r\n        itemLevel.attr({\"data-tooltip\": \"star_rating\"});\r\n        itemRarity.hide();\r\n    }\r\n    itemdiv.append(itemName,itemRarity,itemLevel,itemProps);\r\n    $ietEquip.html(itemdiv);\r\n    const heroBlocks = HeroManager.slotsByItem(item);\r\n    heroBlocks.forEach(hb=> {\r\n        const hero = HeroManager.idToHero(hb.id);\r\n        const d = $(\"<div/>\").addClass(\"heroEquipBlock\");\r\n        const d1 = $(\"<div/>\").addClass(\"heroEquipBlockPic\").html(hero.head);\r\n        const d2 = $(\"<div/>\").addClass(\"heroEquipBlockName\").html(hero.name);\r\n        const d3 = $(\"<div/>\").addClass(\"heroEquipBlockEquips\");\r\n        hb.canEquip.forEach((tf,i) => {\r\n            if (!tf) return;\r\n            const d4 = $(\"<div/>\").addClass(\"heroEquipBlockEquip\").appendTo(d3);\r\n            const currentStats = hero.getSlot(i) ? hero.getSlot(i).itemStat() : blankItemStat();\r\n            const newStats = equipContainerTarget.itemStat();\r\n            let same = true;\r\n            for (const [stat, val] of Object.entries(newStats)) {\r\n                const deltaStat = val - currentStats[stat];\r\n                if (deltaStat === 0 && val === 0) continue;\r\n                same = false;\r\n                const d4a = $('<div/>').addClass('heroEquipBlockEquipStat tooltip').attr(\"data-tooltip\", stat).appendTo(d4);\r\n                if (deltaStat > 0) d4a.addClass(\"hebPositive\").html(`${miscIcons[stat]} <span class=\"statValue\">${val} (+${deltaStat})</span>`);\r\n                else if (deltaStat < 0) d4a.addClass(\"hebNegative\").html(`${miscIcons[stat]} <span class=\"statValue\">${val} (${deltaStat})</span>`);\r\n                else d4a.html(`${miscIcons[stat]}${val}`);\r\n            }\r\n            if (same) $(\"<div/>\").addClass(\"heroEquipBlockEquipStat\").html(\"No Change\").appendTo(d4);\r\n            $(\"<div/>\").addClass(\"heroEquipBlockEquipButton\").attr(\"hid\",hb.id).attr(\"sid\",i).html(\"Equip\").appendTo(d4);\r\n\r\n        });\r\n        d.append(d1,d2,d3);\r\n        $ietHero.append(d);\r\n    });\r\n    $(\".tabcontent\").hide();\r\n    $(\"#inventoryEquipTab\").show();\r\n}\r\n\r\nfunction refreshInventoryPlaces() {\r\n    refreshInventory();\r\n    refreshCardInvCount();\r\n    refreshOrderInvCount()\r\n    refreshPossibleFuse();\r\n    refreshBankInventory();\r\n    refreshSmithInventory();\r\n    refreshSmithStage();\r\n    refreshSynthInventory();\r\n    refreshFortuneGear();\r\n    refreshTrinketInventory();\r\n}\r\n"],"file":"inventory.js"}