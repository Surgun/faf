{"version":3,"sources":["../../src/js/skills.js"],"names":["SkillManager","skills","skillEffects","addSkill","skill","push","idToSkill","id","find","PlaybookManager","playbookDB","addPlaybookTemplate","pb","idToPlaybook","playbook","generatePlayBook","playbookID","playbookTemplate","Playbook","generatePlayBookFromSkills","s1","s2","s3","s4","skill1","skill2","skill3","skill4","playBookTemplate","props","Object","assign","Skill","powerPercent","powMod","toString","techPercent","techMod","type","target","pbTemplate","position","map","s","icon","battleText","combatParams","battleTextEdit","attack","bText","replace","attacker","name","power","BattleLog","addEntry","dungeonid","targets","getTarget","TargetType","FIRST","forEach","takeAttack","SELF","BuffManager","generateBuff","getBuffStacks","heal","refreshHPBar","ALLENEMIES","Math","floor","originalPower","isChilled","ALLALLIES","secondaryTargets","debuffCount","reduce","a","b","removeDebuffs","targets2","maxHP","SECOND","state","image","$","uniqueid","html","refreshSkillUnit","removeBuff","healPercent","hp"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nconst SkillManager = {\r\n    skills : [],\r\n    skillEffects : [],\r\n    addSkill(skill) {\r\n        this.skills.push(skill);\r\n    },\r\n    idToSkill(id) {\r\n        return this.skills.find(skill => skill.id === id);\r\n    },\r\n}\r\n\r\nconst PlaybookManager = {\r\n    playbookDB : [],\r\n    addPlaybookTemplate(pb) {\r\n        this.playbookDB.push(pb);\r\n    },\r\n    idToPlaybook(id) {\r\n        return this.playbookDB.find(playbook => playbook.id === id);\r\n    },\r\n    generatePlayBook(playbookID) {\r\n        const playbookTemplate = this.idToPlaybook(playbookID);\r\n        return new Playbook(playbookTemplate);\r\n    },\r\n    generatePlayBookFromSkills(s1,s2,s3,s4) {\r\n        const skills = {skill1:s1,skill2:s2,skill3:s3,skill4:s4};\r\n        return new Playbook(skills);\r\n    }\r\n}\r\n\r\nclass playBookTemplate {\r\n    constructor (props) {\r\n        Object.assign(this, props);\r\n    }\r\n}\r\n\r\nclass Skill {\r\n    constructor (props) {\r\n        Object.assign(this, props);\r\n        this.powerPercent = (props.powMod * 100).toString() + \"%\";\r\n        this.techPercent = (props.techMod * 100).toString() + \"%\";\r\n    }\r\n    passiveCheck(type,target) {\r\n        SkillManager.skillEffects[this.id](type,target);\r\n    }\r\n}\r\n\r\nclass Playbook {\r\n    constructor (pbTemplate) {\r\n        Object.assign(this, pbTemplate);\r\n        this.skills = [\r\n            SkillManager.idToSkill(pbTemplate.skill1),\r\n            SkillManager.idToSkill(pbTemplate.skill2),\r\n            SkillManager.idToSkill(pbTemplate.skill3),\r\n            SkillManager.idToSkill(pbTemplate.skill4),\r\n        ];\r\n        this.position = 0;\r\n    }\r\n    reset() {\r\n        this.position = 0;\r\n    }\r\n    nextSkill() {\r\n        const skill = this.skills[this.position];\r\n        this.position += 1;\r\n        if (this.position >= 4) this.position = 0;\r\n        return skill;\r\n    }\r\n    getSkillIcons() {\r\n        return this.skills.map(s=>s.icon);\r\n    }\r\n    getSkillIDs() {\r\n        return this.skills.map(s=>s.id);\r\n    }\r\n    skillCount() {\r\n        return this.position;\r\n    }\r\n}\r\n\r\nfunction battleText(combatParams,target) {\r\n    let battleTextEdit = combatParams.attack.bText.replace(\"#ATTACKER#\",combatParams.attacker.name);\r\n    battleTextEdit = battleTextEdit.replace(\"#DEFENDER#\",target.name);\r\n    battleTextEdit = battleTextEdit.replace(\"#DAMAGE#\",combatParams.power);\r\n    BattleLog.addEntry(combatParams.dungeonid,combatParams.attack.icon,battleTextEdit);\r\n} \r\n\r\n\r\nSkillManager.skillEffects['S0000'] = function(combatParams) {\r\n    //Regular Attack\r\n    const targets = combatParams.getTarget(TargetType.FIRST);\r\n    targets.forEach(target => {\r\n        target.takeAttack(combatParams)\r\n    });\r\n}\r\n\r\n  //------------------//\r\n //    HERO SKILLS   //\r\n//------------------//\r\n\r\nSkillManager.skillEffects['S0010'] = function (combatParams) {\r\n    //Reinforce - Beorn\r\n    const targets = combatParams.getTarget(TargetType.SELF);\r\n    targets.forEach(target => BuffManager.generateBuff('B0010',target));\r\n}\r\n\r\nSkillManager.skillEffects['S0020'] = function (combatParams) {\r\n    //Toughen - Cedric\r\n    const targets = combatParams.getTarget(TargetType.SELF);\r\n    targets.forEach(target => {\r\n        if (target.getBuffStacks('B0020') === 5) return;\r\n        BuffManager.generateBuff('B0020',target,combatParams.power)\r\n        target.heal(combatParams.power);\r\n        refreshHPBar(target);\r\n    });\r\n    \r\n}\r\n\r\nSkillManager.skillEffects['S1010'] = function (combatParams) {\r\n    //Meteor - Zoe\r\n    const targets = combatParams.getTarget(TargetType.ALLENEMIES);\r\n    targets.forEach(target => {\r\n        target.takeAttack(combatParams);\r\n        BuffManager.generateBuff(\"B1010\",target,Math.floor(combatParams.power/10));\r\n    });\r\n};\r\n\r\nSkillManager.skillEffects['S1020'] = function (combatParams) {\r\n    //Frost Strike - Neve\r\n    const targets = combatParams.getTarget(TargetType.FIRST);\r\n    const originalPower = combatParams.power;\r\n    targets.forEach(target => {\r\n        if (target.isChilled()) {\r\n            combatParams.power = Math.floor(2.5 * originalPower);\r\n            target.takeAttack(combatParams);\r\n        }\r\n        else {\r\n            target.takeAttack(combatParams);\r\n            BuffManager.generateBuff(\"B1020\",target,0);\r\n        }\r\n    });\r\n};\r\n\r\nSkillManager.skillEffects['S2010'] = function (combatParams) {\r\n    //Inspiration - Alok\r\n    const targets = combatParams.getTarget(TargetType.ALLALLIES);\r\n    targets.forEach(target => {\r\n        BuffManager.generateBuff(\"B2010\",target,Math.floor(combatParams.power));\r\n    });\r\n};\r\n\r\nSkillManager.skillEffects['S2030'] = function (combatParams) {\r\n    //Double Tap - Revere\r\n    const targets = combatParams.getTarget(TargetType.FIRST);\r\n    targets.forEach(target => {\r\n        target.takeAttack(combatParams);\r\n        target.takeAttack(combatParams);\r\n    });\r\n};\r\n\r\n  //------------------//\r\n //     MOB SKILLS   //\r\n//------------------//\r\n\r\nSkillManager.skillEffects['SM100'] = function (combatParams) {\r\n    //swift strike - Elf Adventurer\r\n    const targets = combatParams.getTarget(TargetType.FIRST);\r\n    targets.forEach(target => target.takeAttack(combatParams));\r\n    const secondaryTargets = combatParams.getTarget(TargetType.ALLALLIES);\r\n    secondaryTargets.forEach(target => target.heal(combatParams.power));\r\n}\r\n\r\nSkillManager.skillEffects['SM101'] = function (combatParams) {\r\n    //Green Ooze - Regenerate\r\n    const targets = combatParams.getTarget(TargetType.SELF);\r\n    targets.forEach(target => target.heal(combatParams.power));\r\n}\r\n\r\nSkillManager.skillEffects['SM200'] = function (combatParams) {\r\n    //Translucent - Blinkie\r\n    const targets = combatParams.getTarget(TargetType.SELF);\r\n    targets.forEach(target => {\r\n        BuffManager.generateBuff('BM200',target,combatParams.power);\r\n    });\r\n}\r\n\r\nSkillManager.skillEffects['SM201'] = function (combatParams) {\r\n    //Purge - Earth Shaman\r\n    const targets = combatParams.getTarget(TargetType.ALLALLIES);\r\n    const debuffCount = targets.reduce((a,b) => a + b.debuffCount(),0);\r\n    const originalPower = combatParams.power;\r\n    targets.forEach(target => {\r\n        target.removeDebuffs();\r\n    });\r\n    if (debuffCount > 0) {\r\n        const targets2 = combatParams.getTarget(TargetType.FIRST);\r\n        combatParams.power = originalPower * debuffCount;\r\n        targets2.forEach(target => {\r\n            target.takeAttack(combatParams);\r\n        });\r\n    }\r\n}\r\n\r\nSkillManager.skillEffects['SM300'] = function (combatParams) {\r\n    //Ray Gun - Dusty Alien\r\n    const targets = combatParams.getTarget(TargetType.FIRST);\r\n    targets.forEach(target => {\r\n        target.takeAttack(combatParams);\r\n    });\r\n}\r\n\r\nSkillManager.skillEffects['SM301'] = function (combatParams) {\r\n    //Crab Hammer - Crusty Crab\r\n    const targets = combatParams.getTarget(TargetType.FIRST);\r\n    targets.forEach(target => {\r\n        combatParams.power = Math.floor(target.maxHP() * 0.25);\r\n        target.takeAttack(combatParams);\r\n    });\r\n}\r\n\r\n  //------------------//\r\n //    BOSS SKILLS   //\r\n//------------------//\r\n\r\nSkillManager.skillEffects['SM901'] = function (combatParams) {\r\n    //Tree Wallop - Loathing Oak\r\n    const targets = combatParams.getTarget(TargetType.SECOND);\r\n    targets.forEach(target => {\r\n        target.takeAttack(combatParams);\r\n    });\r\n}\r\n\r\nSkillManager.skillEffects['SM902'] = function (combatParams) {\r\n    //Phoenix Fire - Phoenix\r\n    const targets = combatParams.getTarget(TargetType.ALLENEMIES);\r\n    targets.forEach(target => {\r\n        target.takeAttack(combatParams);\r\n        BuffManager.generateBuff('BM902',target,combatParams.power);\r\n    });\r\n}\r\n\r\nSkillManager.skillEffects['SM902A'] = function (combatParams) {\r\n    //lol it does nothing\r\n}\r\n\r\nSkillManager.skillEffects['SM902B'] = function (combatParams) {\r\n    const target = combatParams.getTarget(TargetType.SELF)[0];\r\n    target.state = null;\r\n    target.image = '<img src=\"/assets/images/enemies/B902.gif\">';\r\n    $(\"#mobImage\"+target.uniqueid).html(target.image);\r\n    target.playbook = PlaybookManager.generatePlayBookFromSkills(target.skill1,target.skill2,target.skill3,target.skill4);\r\n    refreshSkillUnit(target);\r\n    BuffManager.removeBuff('BM902A',target)\r\n    BuffManager.generateBuff('BM902B',target,0);\r\n    target.healPercent(100);\r\n}\r\n\r\n  //--------------------//\r\n //   PASSIVE SKILLS   //\r\n//--------------------//\r\n\r\nSkillManager.skillEffects['SMP902'] = function (type,target) {\r\n    //Rising Phoenix - Phoenix\r\n    if (type !== \"onTurn\") return;\r\n    if (target.hp > target.maxHP()/4 || target.state !== null) return;\r\n    target.state = \"egg\";\r\n    target.image = '<img src=\"/assets/images/enemies/B902A.gif\">';\r\n    $(\"#mobImage\"+target.uniqueid).html(target.image);\r\n    target.playbook = PlaybookManager.generatePlayBookFromSkills(\"SM902A\",\"SM902A\",\"SM902A\",\"SM902B\");\r\n    refreshSkillUnit(target);\r\n    BuffManager.generateBuff('BM902A',target,0);\r\n}"],"file":"skills.js"}