{"version":3,"sources":["../../src/js/dungeonAssign.js"],"names":["$dungeonSelect","$","$dungeonRun","$DungeonSideBarTeam","$dsd1","$toggleProgress","$floorRewards","$dungeonListings","$dungeonListingsBosses","refreshDungeonSelect","empty","DungeonManager","dungeons","filter","d","type","dungeonCanSee","id","forEach","dungeon","append","dungeonBlock","bosses","bossDungeonCanSee","length","hide","show","d1","addClass","attr","d2","html","name","bossID","bossByDungeon","MonsterHall","bossRefight","monsterKillCount","miscIcons","skull","appendTo","d3","status","DungeonStatus","ADVENTURING","COLLECT","d4","d5","d6","party","heroes","h","d5a","head","document","on","e","preventDefault","dungeonID","currentTarget","dungeonByID","bossCleared","screenDirectDungeon","abandonAllDungeons","dungeonView","lastParty","dungeonStatus","showDungeon","showDungeonReward","EMPTY","dungeonCreatingID","PartyCreator","clearMembers","startingTeam","refreshHeroSelect","$dungeonTeamSelect","BattleLog","clear","initiateDungeonFloor","removeClass","abandonCurrentDungeon","toggleProgress","$floorID","$dungeonHeroList","$dungeonMobList","$drTurnOrder","getCurrentDungeon","floorCount","rewards","getRewards","amt","ResourceManager","materialIcon","hero","image","uniqueid","prepend","mobs","mob","d7","d8","d9","hp","progressNextFloor","generateTurnOrder","BuffRefreshManager","hardRefreshBuff","order","getOrder","unit","i","createHPBar","d1a","generateSkillIcons","css","refreshTurnOrder","refreshSkillUnit","target","getCurrentID","skillNum","getActiveSkill","skillIDs","getSkillIDs","getSkillIcons","icon","$dungeonTab","initializeSideBarDungeon","data","createDungeonSidebarReward","refreshDungeonFarmStatus","dungeonid","refreshSidebarDungeonMats","tag","hpPercent","maxHP","hpBarText","hpWidth","toFixed","options","prefix","tooltip","text","textID","width","fill","generateProgressBar","refreshBeatBar","dungeonTime","beatWidth","speed","refreshHPBar","haveReward","materialAvailable","matWidth","t1","toString","refreshDungeonMatBar","stopPropagation","gid"],"mappings":"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","sourcesContent":["/*Dungeons consist of three sets of screens:\r\nClicking on the \"Adventures\" tab will relocate to the dungeon screen.\r\nThis screen JUST has a list of dungeons on it. You can see the progress\r\nof any dungeon (as well as which are available).\r\n\r\nClicking on a dungeon WITHOUT a team brings you to the party selection\r\nscreen, where you can select party members for this dungeon. Confirming\r\na party locks it in and begins the dungeon and brings you to third screen\r\n\r\nAdventure screen! Get here by clicking on a dungeon with a group or confirming\r\na group...\r\n*/\r\n\r\nconst $dungeonSelect = $(\"#dungeonSelect\");\r\nconst $dungeonRun = $(\"#dungeonRun\");\r\nconst $DungeonSideBarTeam = $(\"#DungeonSideBarTeam\");\r\nconst $dsd1 = $(\"#dsd1\");\r\nconst $toggleProgress = $(\"#toggleProgress\");\r\nconst $floorRewards = $(\"#floorRewards\");\r\n\r\n/*---------------------------\r\n/*-   DUNGEON SELECT CODE   -\r\n/*---------------------------*/\r\n\r\nconst $dungeonListings = $(\"#dungeonListings\");\r\nconst $dungeonListingsBosses = $(\"#dungeonListingsBosses\");\r\n\r\nfunction refreshDungeonSelect() {\r\n    //shows each dungeon so you can select that shit...\r\n    $dungeonListings.empty();\r\n    DungeonManager.dungeons.filter(d=>d.type===\"regular\" && DungeonManager.dungeonCanSee(d.id)).forEach(dungeon => {\r\n        $dungeonListings.append(dungeonBlock(dungeon));\r\n    });\r\n    $dungeonListingsBosses.empty();\r\n    const bosses = DungeonManager.dungeons.filter(d=>d.type===\"boss\" && DungeonManager.bossDungeonCanSee(d.id));\r\n    if (bosses.length === 0) $(\".dungeonBossDivs\").hide();\r\n    else {\r\n        $(\".dungeonBossDivs\").show();\r\n        DungeonManager.dungeons.filter(d=>d.type===\"boss\" && DungeonManager.bossDungeonCanSee(d.id)).forEach(dungeon => {\r\n            $dungeonListingsBosses.append(dungeonBlock(dungeon));\r\n        });\r\n    }\r\n}\r\n\r\nfunction dungeonBlock(dungeon) {\r\n    const d1 = $(\"<div/>\").addClass(`dungeonContainer`).attr(\"id\",dungeon.id);\r\n    const d2 = $(\"<div/>\").addClass(\"dungeonHeader\").html(dungeon.name);\r\n    if (dungeon.type === \"boss\") {\r\n        d1.addClass(\"dungeonTypeBoss\");\r\n        const bossID = DungeonManager.bossByDungeon(dungeon.id);\r\n        if (MonsterHall.bossRefight()) $(\"<div/>\").addClass(\"dungeonBossLvl\").html(`${MonsterHall.monsterKillCount(bossID)} ${miscIcons.skull}`).appendTo(d1);\r\n    }\r\n    const d3 = $(\"<div/>\").addClass(\"dungeonStatus\").attr(\"id\",\"ds\"+dungeon.id);\r\n    if (dungeon.status === DungeonStatus.ADVENTURING) d3.addClass(\"dungeonInProgress\").html(`Fight in Progress`);\r\n    else if (dungeon.status === DungeonStatus.COLLECT) d3.addClass(\"dungeonComplete\").html(`Run Complete`);\r\n    else d3.addClass(\"dungeonIdle\").html(\"Idle\");\r\n    const d4 = $(\"<div/>\").addClass(\"dungeonBackground\");\r\n    const d5 = $(\"<div/>\").addClass(\"dungeonAdventurers\");\r\n    const d6 = $(\"<div/>\").addClass(`dungeonBossPortrait ${dungeon.id}`);\r\n    d1.append(d2,d3,d4,d5);\r\n    if (dungeon.type === \"boss\") d1.append(d6);\r\n    if (dungeon.status === DungeonStatus.ADVENTURING) {\r\n        dungeon.party.heroes.forEach(h=> {\r\n            const d5a = $(\"<div/>\").addClass(\"dungeonHeroDungeonSelect\").html(h.head);\r\n            d5.append(d5a);\r\n        });\r\n    }\r\n    return d1;\r\n}\r\n\r\n\r\n//click on a dungeon to start making a team!\r\n$(document).on(\"click\", \".dungeonContainer\", (e) => {\r\n    e.preventDefault();\r\n    const dungeonID = $(e.currentTarget).attr(\"id\");\r\n    const dungeon = DungeonManager.dungeonByID(dungeonID);\r\n    if (dungeon.type === \"boss\" && DungeonManager.bossCleared(dungeonID) && !MonsterHall.bossRefight()) return;\r\n    screenDirectDungeon(dungeonID);\r\n});\r\n\r\n$(document).on(\"click\", \"#dAbandonAll\", (e) => {\r\n    e.preventDefault();\r\n    DungeonManager.abandonAllDungeons();\r\n});\r\n\r\nfunction screenDirectDungeon(dungeonID) {\r\n    DungeonManager.dungeonView = dungeonID;\r\n    const lastParty = DungeonManager.dungeonByID(dungeonID).lastParty;\r\n    $dungeonSelect.hide();\r\n    if (DungeonManager.dungeonStatus(dungeonID) === DungeonStatus.ADVENTURING) showDungeon(dungeonID);\r\n    else if (DungeonManager.dungeonStatus(dungeonID) === DungeonStatus.COLLECT) {\r\n        showDungeonReward(dungeonID,false);\r\n    }\r\n    else if (DungeonManager.dungeonStatus(dungeonID) === DungeonStatus.EMPTY) {\r\n        DungeonManager.dungeonCreatingID = dungeonID;\r\n        PartyCreator.clearMembers();\r\n        PartyCreator.startingTeam(lastParty);\r\n        refreshHeroSelect();\r\n        $dungeonSelect.hide();\r\n        $dungeonTeamSelect.show();\r\n    }\r\n}\r\n\r\n/*-----------------------------------------\r\n/*-   DUNGEON RUNNING CODE\r\n/*-----------------------------------------*/\r\n\r\nfunction showDungeon(dungeonID) {\r\n    DungeonManager.dungeonView = dungeonID;\r\n    const dungeon = DungeonManager.dungeonByID(dungeonID);\r\n    if (dungeon.status === DungeonStatus.EMPTY) {\r\n        return \r\n    }\r\n    BattleLog.clear();\r\n    initiateDungeonFloor(dungeonID);\r\n    $dungeonSelect.hide();\r\n    $dungeonRun.show().removeClass().addClass(dungeonID);\r\n    if (DungeonManager.dungeonByID(dungeonID).type === \"boss\") $dungeonRun.addClass(\"DBoss\");\r\n}\r\n\r\n$(document).on(\"click\", \"#dungeonAbandon\", (e) => {\r\n    e.preventDefault();\r\n    DungeonManager.abandonCurrentDungeon();\r\n})\r\n\r\n$(document).on(\"click\", \"#toggleProgress\", (e) => {\r\n    e.preventDefault();\r\n    DungeonManager.toggleProgress();\r\n})\r\n\r\nconst $floorID = $(\"#floorID\");\r\nconst $dungeonHeroList = $(\"#dungeonHeroList\");\r\nconst $dungeonMobList = $(\"#dungeonMobList\");\r\nconst $drTurnOrder = $(\"#drTurnOrder\");\r\n\r\nfunction initiateDungeonFloor(dungeonID) {\r\n    if (DungeonManager.dungeonView !== dungeonID) return;\r\n    const dungeon = DungeonManager.getCurrentDungeon();\r\n    $dungeonRun.removeClass().addClass(dungeon.id);\r\n    if (dungeon.type === \"boss\") $dungeonRun.addClass(\"DBoss\");\r\n    $floorID.html(\"Floor \"+dungeon.floorCount);\r\n    const rewards = dungeon.getRewards();\r\n    if (dungeon.type === \"normal\") $floorRewards.html(`Earning ${rewards.amt} ${ResourceManager.materialIcon(rewards.id)} per clear`)\r\n    $dungeonHeroList.empty();\r\n    $dungeonMobList.empty();\r\n    dungeon.party.heroes.forEach(hero => {\r\n        const d1 = $(\"<div/>\").addClass(\"dfc\");\r\n        const d2 = $(\"<div/>\").addClass(\"dfcName\").html(hero.name);\r\n        const d3 = $(\"<div/>\").addClass(\"dfcImage\").html(hero.image);\r\n        const d4 = $(\"<div/>\").addClass(\"buffListContent\").attr(\"id\",\"buffList\"+hero.uniqueid);\r\n        d1.append(d2,d3,d4);\r\n        $dungeonHeroList.prepend(d1);\r\n    });\r\n    dungeon.mobs.forEach((mob) => {\r\n        const d6 = $(\"<div/>\").addClass(\"dfm\").attr(\"id\",\"dfm\"+mob.uniqueid);\r\n        const d7 = $(\"<div/>\").addClass(\"dfmName\").html(mob.name);\r\n        const d8 = $(\"<div/>\").addClass(\"dfmImage\").attr(\"id\",\"mobImage\"+mob.uniqueid).html(mob.image);\r\n        const d9 = $(\"<div/>\").addClass(\"buffListContent\").attr(\"id\",\"buffList\"+mob.uniqueid);\r\n        d6.append(d7,d8,d9);\r\n        if (mob.hp === 0) d6.addClass(\"mobDead\");\r\n        $dungeonMobList.prepend(d6);\r\n    });\r\n    if (dungeon.progressNextFloor) $toggleProgress.html(\"Progressing\");\r\n    else $toggleProgress.html(\"Farming\");\r\n    generateTurnOrder(dungeonID);\r\n    BuffRefreshManager.hardRefreshBuff();\r\n}\r\n\r\nfunction generateTurnOrder(dungeonID) {\r\n    if (DungeonManager.dungeonView !== dungeonID) return;\r\n    $drTurnOrder.empty();\r\n    const dungeon = DungeonManager.getCurrentDungeon();\r\n    dungeon.order.getOrder().forEach((unit,i) => {\r\n        const d1 = $(\"<div/>\").addClass(\"orderUnit\").appendTo($drTurnOrder);\r\n        $(\"<div/>\").addClass(\"orderUnitHeadImg\").html(unit.head).appendTo(d1);\r\n        $(\"<div/>\").addClass(\"orderUnitHead\").html(unit.name).appendTo(d1);\r\n        $(\"<div/>\").addClass(\"orderUnitHP\").html(createHPBar(unit,\"turnOrder\")).appendTo(d1);\r\n        const d1a = $(\"<div/>\").attr(\"id\",\"orderSkills\"+unit.uniqueid).appendTo(d1);\r\n        generateSkillIcons(unit).appendTo(d1a);\r\n        const d2 = $(\"<div/>\").addClass(\"beatBarDiv\").appendTo(d1);\r\n        $(\"<span/>\").addClass(\"beatBarFill\").attr(\"id\",\"beatbarFill\"+unit.uniqueid).css('width', \"0%\").appendTo(d2);\r\n    });\r\n    refreshTurnOrder(dungeonID);\r\n}\r\n\r\nfunction refreshSkillUnit(target) {\r\n    const d = $(\"#orderSkills\"+target.uniqueid).empty();\r\n    generateSkillIcons(target).appendTo(d);\r\n}\r\n\r\nfunction refreshTurnOrder(dungeonID) {\r\n    if (DungeonManager.dungeonView !== dungeonID) return;\r\n    const dungeon = DungeonManager.getCurrentDungeon();\r\n    const uniqueid = dungeon.order.getCurrentID();\r\n    $(\".orderUnit\").removeClass(\"orderUnitActive\");\r\n    $(\"#orderUnit\"+uniqueid).addClass(\"orderUnitActive\");\r\n    $(\".orderUnitSkill\").removeClass(\"orderUnitActiveSkill\");\r\n    dungeon.order.getOrder().forEach(unit => {\r\n        const skillNum = unit.getActiveSkill();\r\n        $(\"#oUS\"+unit.uniqueid+skillNum).addClass(\"orderUnitActiveSkill\")\r\n    });\r\n}\r\n\r\nfunction generateSkillIcons(unit) {\r\n    const d1 = $(\"<div/>\").addClass(\"orderUnitSkills\");\r\n    const skillIDs = unit.getSkillIDs();\r\n    unit.getSkillIcons().forEach((icon,i) => {\r\n        $(\"<div/>\").addClass(\"orderUnitSkill tooltip\").attr({\"id\":\"oUS\"+unit.uniqueid+i,\"data-tooltip\":\"skill_desc\",\"data-tooltip-value\":skillIDs[i]}).html(icon).appendTo(d1);\r\n    });\r\n    return d1;\r\n}\r\n\r\nconst $dungeonTab = $(\"#dungeonTab\");\r\n\r\nfunction initializeSideBarDungeon() {\r\n    $DungeonSideBarTeam.empty();\r\n    DungeonManager.dungeons.forEach(dungeon => {\r\n        if (dungeon.type !== \"regular\" && dungeon.status === DungeonStatus.EMPTY) return;\r\n        const d = $(\"<div/>\").addClass(\"dungeonGroup\").appendTo($DungeonSideBarTeam);\r\n        const d1 = $(\"<div/>\").addClass(\"DungeonSideBarStatus\").data(\"dungeonID\",dungeon.id).appendTo(d);\r\n        if (dungeon.type === \"regular\" && dungeon.status === DungeonStatus.ADVENTURING) {\r\n            d1.addClass(\"DungeonSideBarAdventuring\");\r\n            const d2 = $(\"<div/>\").addClass(\"dungeonFarmStatus\").attr(\"id\",\"dungeonFarm\"+dungeon.id).data(\"gid\",dungeon.id).html(`<i class=\"fas fa-recycle\"></i>`).appendTo(d1);\r\n            if (!dungeon.progressNextFloor) d2.addClass(\"dungeonFarmActive\");\r\n            $(\"<div/>\").addClass(\"dungeonSidebarFloor\").attr(\"id\",\"dsb\"+dungeon.id).html(`${dungeon.name} - ${dungeon.floorCount}`).appendTo(d1);\r\n            if (dungeon.type !== \"boss\") $(\"<div/>\").addClass(\"dungeonSidebarReward\").html(createDungeonSidebarReward(dungeon.getRewards(),dungeon.id)).appendTo(d);\r\n        }\r\n        else d1.html(`${dungeon.name}`);\r\n    });\r\n}\r\n\r\nfunction refreshDungeonFarmStatus(dungeonid) {\r\n    const dungeon = DungeonManager.dungeonByID(dungeonid);\r\n    if (dungeon.type === \"boss\") return;\r\n    if (dungeon.progressNextFloor) $(\"#dungeonFarm\"+dungeonid).removeClass(\"dungeonFarmActive\");\r\n    else $(\"#dungeonFarm\"+dungeonid).addClass(\"dungeonFarmActive\");\r\n}\r\n\r\nfunction refreshSidebarDungeonMats(dungeonID) {\r\n    const dungeon = DungeonManager.dungeonByID(dungeonID);\r\n    if (dungeon.type === \"boss\") return;\r\n    const rewards = dungeon.getRewards();\r\n    $(`#dRR${dungeonID} .dungeonRewardRateIcon`).html(ResourceManager.materialIcon(rewards.id));\r\n    $(`#dRR${dungeonID} .dungeonRewardRateAmt`).html(`+${rewards.amt}`);\r\n}\r\n\r\nfunction createHPBar(hero,tag) {\r\n    const hpPercent = hero.hp/hero.maxHP();\r\n    const hpBarText = hero.hp+\" / \"+hero.maxHP();\r\n    const hpWidth = (hpPercent*100).toFixed(1)+\"%\";\r\n    const options = {\r\n        prefix: \"hp\",\r\n        tooltip: \"hp\",\r\n        icon: miscIcons.hp,\r\n        text: hpBarText,\r\n        textID: \"hp\"+tag+hero.uniqueid,\r\n        width: hpWidth,\r\n        fill: \"hpFill\"+tag+hero.uniqueid\r\n    }\r\n    return generateProgressBar(options);\r\n}\r\n\r\nfunction refreshBeatBar(uniqueid,dungeonTime) {\r\n    const beatWidth = (dungeonTime/DungeonManager.speed*100).toFixed(1)+\"%\";\r\n    $(\"#beatbarFill\"+uniqueid).css('width',beatWidth);\r\n}\r\n\r\nfunction refreshHPBar(hero) {\r\n    const hpPercent = hero.hp/hero.maxHP();\r\n    const hpBarText = hero.hp+\" / \"+hero.maxHP();\r\n    const hpWidth = (hpPercent*100).toFixed(1)+\"%\";\r\n    $(`#hpturnOrder${hero.uniqueid}`).html(hpBarText);\r\n    $(`#hpFillturnOrder${hero.uniqueid}`).css('width', hpWidth);\r\n}\r\n\r\nfunction createDungeonSidebarReward(rewards,dungeonid) {\r\n    const haveReward = ResourceManager.materialAvailable(rewards.id);\r\n    const matWidth = (haveReward/10).toFixed(1)+\"%\";\r\n    const d = $(\"<div/>\").addClass(\"dungeonRewardDiv\");\r\n        const t1 = $(\"<div/>\").addClass(\"dungeonRewardRate\").attr(\"id\",\"dRR\"+dungeonid).appendTo(d);\r\n            $(\"<div/>\").addClass(\"dungeonRewardRateIcon\").html(`${ResourceManager.materialIcon(rewards.id)}`).appendTo(t1);\r\n            $(\"<div/>\").addClass(\"dungeonRewardRateAmt\").html(`+${rewards.amt}`).appendTo(t1);\r\n    const options = {\r\n        prefix: \"dungeonReward\",\r\n        text: haveReward.toString(),\r\n        textID: \"dsbr\"+dungeonid, \r\n        width: matWidth,\r\n        fill: \"dsbrf\"+dungeonid\r\n    }\r\n    return d.append(generateProgressBar(options));\r\n}\r\n\r\nfunction refreshDungeonMatBar(dungeonid) {\r\n    const rewards = DungeonManager.dungeonByID(dungeonid).getRewards();\r\n    const haveReward = ResourceManager.materialAvailable(rewards.id);\r\n    const matWidth = (haveReward/10).toFixed(1)+\"%\";\r\n    $(\"#dsbr\"+dungeonid).html(haveReward);\r\n    $(\"#dsbrf\"+dungeonid).css('width',matWidth);\r\n}\r\n\r\n$(document).on(\"click\", \".dungeonFarmStatus\", (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const gid = $(e.currentTarget).data(\"gid\");\r\n    DungeonManager.dungeonByID(gid).toggleProgress();\r\n});\r\n"],"file":"dungeonAssign.js"}