{"version":3,"sources":["../../src/js/recipes.js"],"names":["ItemType","$RecipeResults","$","Item","props","Object","assign","craftCount","mastered","autoSell","owned","goldComma","itemValueCommas","value","save","id","undefined","description","type","name","lvl","formatWithCommas","formatToUnits","d","addClass","gcost","forEach","resource","guild","GuildManager","idToGuild","append","attr","html","icon","mcost","entries","material","amt","mat","ResourceManager","idToMaterial","d1","formatCost","pow","pts","hp","tech","miscIcons","appendTo","Math","min","skipAnimation","refreshMasteryBar","refreshCraftedCount","isMastered","masteryCost","materialAvailable","Notifications","recipeMasterNeedMore","addMaterial","masterRecipe","destroyTooltip","refreshProgress","refreshMonsterReward","repopulateUnmastered","refreshAllRecipeMastery","recipeType","canProduceBucket","needBucket","groupArray","canProduce","res","keys","craftTime","MonsterHall","lineIncrease","max","minMastery","maxMastery","reductionMastery","idAmt","recipeList","recipes","recipeFilterType","recipeFilterString","recipeSortType","addItem","item","push","createSave","r","loadSave","i","rec","idToItem","filteredRecipeList","cleanString","toLowerCase","replace","filter","includes","setSortOrder","recipeSort","buyRecipe","recipeID","recipe","goldCost","recipeGoldReq","deductMoney","refreshRecipeMastery","guildUnlock","refreshRecipeFilters","checkCraftableStatus","refreshAllSales","find","ownAtLeastOne","some","masteryCount","length","recipeCount","maxTier","lvls","map","filterByGuild","guildID","guildOrderItems","items","typeList","guildWork","repReq","guildWorkRepReq","chosenRepReq","canCraft","WorkerManager","getCurrentProduceAvailable","setCanCraft","recipeCanCraft","attemptMastery","unmasteredByGuild","$recipeActionButton","document","on","e","preventDefault","toggleFilterA","currentTarget","hasClass","removeClass","recipeIcon","show","hide","$recipeContents","sortOrder","defaultAsc","nameAsc","mastery","masteryAsc","lvlAsc","time","timeAsc","valueAsc","recipeDivDict","recipeDivs","initializeRecipes","recipeCardInfo","recipeCardFront","recipeCardBack","recipeCardContainer","data","tempList","sort","a","b","localeCompare","sortedList","aval","indexOf","bval","recipeFilterList","n","values","div","slice","triggerRecipeLoad","loadCount","is","scroll","condition1","height","condition2","scrollTop","td1","itemPicName","td2","td3","itemLevel","td4","td4a","visualizeResAndMat","td5","td5a","td5a1","td5a2","msToTime","reducedCraft","td5b","Inventory","itemCountAll","td5c","itemValueFormatted","td6","td6a","td6b","recipeDiv","refreshCraftTimes","td7","td7a","td7b","td8","td8a","td8a1","itemDescription","td8a2","recipeListStats","td8a3","td9","td9a","td9a1","td9a2","img","recipeMasteryBar","masteryWidth","toFixed","masteryBarDiv","masteryBar","masteryBarFill","css","rr","rcc","rbd","rms","rcd","refreshCardInvCount","invCount","$blueprintUnlock","cacheBlueprintType","itemID","actionSlotManager","addSlot","target","substring","parent","prev","text","$recipeSortInput","searchString","val","searchLengthInvalid","keyCode","settings","dialogStatus","saveSettings"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,QAAQ,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,QAAnB,EACG,OADH,EACY,OADZ,EACqB,QADrB,EAEG,WAFH,EAEgB,QAFhB,EAE0B,MAF1B,EAGG,SAHH,EAGc,OAHd,EAGuB,UAHvB,EAIG,OAJH,EAIY,SAJZ,EAIuB,OAJvB,EAKG,QALH,EAKa,OALb,EAKsB,OALtB,CAAjB;AAOA,IAAMC,cAAc,GAAGC,CAAC,CAAC,gBAAD,CAAxB;;IAEMC,I;;;AACF,gBAAaC,KAAb,EAAoB;AAAA;;AAChBC,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBF,KAApB;AACA,SAAKG,UAAL,GAAkB,CAAlB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,QAAL,GAAgB,MAAhB;AACA,SAAKC,KAAL,GAAa,KAAb;AACA,SAAKC,SAAL,GAAiB,KAAKC,eAAL,CAAqB,KAAKC,KAA1B,CAAjB;AACH;;;;iCACY;AACT,UAAMC,IAAI,GAAG,EAAb;AACAA,MAAAA,IAAI,CAACC,EAAL,GAAU,KAAKA,EAAf;AACAD,MAAAA,IAAI,CAACP,UAAL,GAAkB,KAAKA,UAAvB;AACAO,MAAAA,IAAI,CAACL,QAAL,GAAgB,KAAKA,QAArB;AACAK,MAAAA,IAAI,CAACJ,KAAL,GAAa,KAAKA,KAAlB;AACAI,MAAAA,IAAI,CAACN,QAAL,GAAgB,KAAKA,QAArB;AACA,aAAOM,IAAP;AACH;;;6BACQA,I,EAAM;AACX,WAAKP,UAAL,GAAkBO,IAAI,CAACP,UAAvB;AACA,WAAKE,QAAL,GAAgBK,IAAI,CAACL,QAArB;AACA,WAAKC,KAAL,GAAaI,IAAI,CAACJ,KAAlB;AACA,UAAII,IAAI,CAACN,QAAL,KAAkBQ,SAAtB,EAAiC,KAAKR,QAAL,GAAgBM,IAAI,CAACN,QAArB;AACpC;;;sCACiB;AACd,aAAO,KAAKS,WAAZ;AACH;;;kCACa;AACV,aAAO,sCAAoC,KAAKC,IAAzC,GAA8C,GAA9C,GAAkD,KAAKH,EAAvD,GAA0D,QAA1D,GAAmE,yBAAnE,GAA6F,KAAKI,IAAlG,GAAuG,QAA9G;AACH;;;+BACU;AACP,aAAO,4BAA0B,KAAKA,IAA/B,GAAoC,QAA3C;AACH;;;8BACS;AACN,aAAO,sCAAoC,KAAKD,IAAzC,GAA8C,GAA9C,GAAkD,KAAKH,EAAvD,GAA0D,QAAjE;AACH;;;gCACW;AACR,uFAAsE,KAAKK,GAA3E;AACH;;;sCACiB;AACd,aAAOC,gBAAgB,CAAC,KAAKR,KAAN,CAAvB;AACH;;;yCACoB;AACjB,aAAOS,aAAa,CAAC,KAAKT,KAAN,EAAY,CAAZ,CAApB;AACH;;;gCACW;AACR,aAAO,KAAKA,KAAZ;AACH;;;yCACoB;AACjB,UAAMU,CAAC,GAAGrB,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,UAArB,CAAV;AACA,WAAKC,KAAL,CAAWC,OAAX,CAAmB,UAAAC,QAAQ,EAAI;AAC3B,YAAMC,KAAK,GAAGC,YAAY,CAACC,SAAb,CAAuBH,QAAvB,CAAd;AACAJ,QAAAA,CAAC,CAACQ,MAAF,CAAS7B,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,0BAArB,EAAiDQ,IAAjD,CAAsD;AAAC,0BAAe,cAAhB;AAA+B,gCAAqBJ,KAAK,CAACb;AAA1D,SAAtD,EAAqHkB,IAArH,CAA0HL,KAAK,CAACM,IAAhI,CAAT;AACH,OAHD;AAIA,UAAI,KAAKC,KAAL,KAAe,IAAnB,EAAyB,OAAOZ,CAAP;;AACzB,yCAA8BlB,MAAM,CAAC+B,OAAP,CAAe,KAAKD,KAApB,CAA9B,qCAA0D;AAAA;AAAA,YAA9CE,QAA8C;AAAA,YAApCC,GAAoC;;AACtD,YAAMC,GAAG,GAAGC,eAAe,CAACC,YAAhB,CAA6BJ,QAA7B,CAAZ;AACA,YAAMK,EAAE,GAAGxC,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,0BAArB,EAAiDQ,IAAjD,CAAsD,IAAtD,EAA2D,OAAK,KAAKjB,EAArE,EAAyEiB,IAAzE,CAA8E;AAAC,0BAAe,eAAhB;AAAgC,gCAAqBO,GAAG,CAACxB;AAAzD,SAA9E,EAA4IkB,IAA5I,CAAiJO,eAAe,CAACG,UAAhB,CAA2BN,QAA3B,EAAoCC,GAApC,CAAjJ,CAAX;AACAf,QAAAA,CAAC,CAACQ,MAAF,CAASW,EAAT;AACH;;AACD,aAAOnB,CAAP;AACH;;;sCACiB;AACd,UAAMA,CAAC,GAAGrB,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,gBAArB,CAAV;AACA,UAAMoB,GAAG,GAAG,KAAKA,GAAL,GAAS,KAAKC,GAA1B;AACA,UAAMC,EAAE,GAAG,IAAE,KAAKA,EAAP,GAAU,KAAKD,GAA1B;AACA,UAAME,IAAI,GAAG,KAAKA,IAAL,GAAU,KAAKF,GAA5B;AACA,UAAID,GAAG,GAAG,CAAV,EAAa1C,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,2BAArB,EAAkDQ,IAAlD,CAAuD,cAAvD,EAAuE,KAAvE,EAA8EC,IAA9E,WAAsFe,SAAS,CAACJ,GAAhG,uCAA8HA,GAA9H,cAA4IK,QAA5I,CAAqJ1B,CAArJ;AACb,UAAIuB,EAAE,GAAG,CAAT,EAAY5C,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,0BAArB,EAAiDQ,IAAjD,CAAsD,cAAtD,EAAsE,IAAtE,EAA4EC,IAA5E,WAAoFe,SAAS,CAACF,EAA9F,uCAA2HA,EAA3H,cAAwIG,QAAxI,CAAiJ1B,CAAjJ;AACZ,UAAIwB,IAAI,GAAG,CAAX,EAAc7C,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,4BAArB,EAAmDQ,IAAnD,CAAwD,cAAxD,EAAwE,MAAxE,EAAgFC,IAAhF,WAAwFe,SAAS,CAACD,IAAlG,uCAAiIA,IAAjI,cAAgJE,QAAhJ,CAAyJ1B,CAAzJ;AACd,aAAOA,CAAP;AACH;;;4BACO;AACJ,aAAO2B,IAAI,CAACC,GAAL,CAAS,KAAK5C,UAAd,EAAyB,GAAzB,CAAP;AACH;;;6BACQ6C,a,EAAe;AACpB,WAAK7C,UAAL,IAAmB,CAAnB;AACA,UAAI6C,aAAJ,EAAmB;AACnBC,MAAAA,iBAAiB;AACjBC,MAAAA,mBAAmB;AACtB;;;qCACgB;AACb,UAAI,KAAKC,UAAL,EAAJ,EAAuB;AACvB,UAAMC,WAAW,GAAG,KAAKA,WAAL,EAApB;;AACA,UAAIhB,eAAe,CAACiB,iBAAhB,CAAkCD,WAAW,CAACzC,EAA9C,IAAoDyC,WAAW,CAAClB,GAApE,EAAyE;AACrEoB,QAAAA,aAAa,CAACC,oBAAd;AACA;AACH;;AACDnB,MAAAA,eAAe,CAACoB,WAAhB,CAA4BJ,WAAW,CAACzC,EAAxC,EAA2C,CAACyC,WAAW,CAAClB,GAAxD;AACA,WAAK9B,QAAL,GAAgB,IAAhB;AACAkD,MAAAA,aAAa,CAACG,YAAd,CAA2B,KAAK1C,IAAhC;AACAmC,MAAAA,mBAAmB;AACnBQ,MAAAA,cAAc,GAXD,CAWK;;AAClBC,MAAAA,eAAe;AACfC,MAAAA,oBAAoB;AACpBnC,MAAAA,YAAY,CAACoC,oBAAb;AACAC,MAAAA,uBAAuB;AAC1B;;;iCACY;AACT,UAAI,KAAKC,UAAL,KAAoB,UAApB,IAAkC,KAAKA,UAAL,KAAoB,SAA1D,EAAqE,OAAO,KAAP;AACrE,aAAO,KAAK3D,QAAZ;AACH;;;qCACgB;AACb,UAAI,KAAKC,QAAL,KAAkB,MAAtB,EAA8B,KAAKA,QAAL,GAAgB,QAAhB,CAA9B,KACK,IAAI,KAAKA,QAAL,KAAkB,QAAtB,EAAgC,KAAKA,QAAL,GAAgB,MAAhB,CAAhC,KACA,IAAI,KAAKA,QAAL,KAAkB,MAAtB,EAA8B,KAAKA,QAAL,GAAgB,OAAhB,CAA9B,KACA,IAAI,KAAKA,QAAL,KAAkB,OAAtB,EAA+B,KAAKA,QAAL,GAAgB,MAAhB,CAA/B,KACA,KAAKA,QAAL,GAAgB,MAAhB;AACL,aAAO,KAAKA,QAAZ;AACH;;;gCACW2D,gB,EAAkB;AAC1B,UAAMC,UAAU,GAAGC,UAAU,CAAC,KAAK7C,KAAN,CAA7B;AACA,WAAK8C,UAAL,GAAkB,IAAlB;;AACA,2CAAyBlE,MAAM,CAAC+B,OAAP,CAAeiC,UAAf,CAAzB,wCAAqD;AAAA;AAAA,YAAzCG,GAAyC;AAAA,YAApClC,GAAoC;;AACjD,YAAI8B,gBAAgB,CAACI,GAAD,CAAhB,KAA0BxD,SAA1B,IAAuCoD,gBAAgB,CAACI,GAAD,CAAhB,GAAwBlC,GAAnE,EAAwE;AACpE,eAAKiC,UAAL,GAAkB,KAAlB;AACH;;AAAA;AACJ;AACJ;;;+BACU;AACP,UAAI,CAAC,KAAKpC,KAAV,EAAiB,OAAO,MAAP;AACjB,aAAO9B,MAAM,CAACoE,IAAP,CAAY,KAAKtC,KAAjB,EAAwB,CAAxB,CAAP;AACH;;;mCACc;AACX,aAAO,KAAKuC,SAAL,GAAiBC,WAAW,CAACC,YAAZ,CAAyB,KAAK1D,IAA9B,EAAmC,CAAnC,CAAxB;AACH;;;kCACa;AACV,UAAMoB,GAAG,GAAGY,IAAI,CAAC2B,GAAL,CAAS,KAAKC,UAAd,EAAyB,KAAKC,UAAL,GAAgB,KAAKC,gBAAL,GAAsB,KAAKzE,UAApE,CAAZ;AACA,UAAM8B,QAAQ,GAAG,KAAKF,KAAL,GAAa9B,MAAM,CAACoE,IAAP,CAAY,KAAKtC,KAAjB,EAAwB,CAAxB,CAAb,GAA0C,MAA3D;AACA,aAAO,IAAI8C,KAAJ,CAAU5C,QAAV,EAAmBC,GAAnB,CAAP;AACH;;;;;;AAGL,IAAM4C,UAAU,GAAG;AACfC,EAAAA,OAAO,EAAG,EADK;AAEfC,EAAAA,gBAAgB,EAAG,SAFJ;AAGfC,EAAAA,kBAAkB,EAAG,EAHN;AAIfC,EAAAA,cAAc,EAAG,SAJF;AAKfC,EAAAA,OALe,mBAKPC,IALO,EAKD;AACV,SAAKL,OAAL,CAAaM,IAAb,CAAkBD,IAAlB;AACH,GAPc;AAQfE,EAAAA,UARe,wBAQF;AACT,QAAM5E,IAAI,GAAG,EAAb;AACA,SAAKqE,OAAL,CAAazD,OAAb,CAAqB,UAAAiE,CAAC,EAAG;AACrB7E,MAAAA,IAAI,CAAC2E,IAAL,CAAUE,CAAC,CAACD,UAAF,EAAV;AACH,KAFD;AAGA,WAAO5E,IAAP;AACH,GAdc;AAef8E,EAAAA,QAfe,oBAeN9E,IAfM,EAeA;AAAA;;AACXA,IAAAA,IAAI,CAACY,OAAL,CAAa,UAAAmE,CAAC,EAAI;AACd,UAAMC,GAAG,GAAG,KAAI,CAACC,QAAL,CAAcF,CAAC,CAAC9E,EAAhB,CAAZ;;AACA,UAAI+E,GAAG,KAAK9E,SAAZ,EAAuB8E,GAAG,CAACF,QAAJ,CAAaC,CAAb;AAC1B,KAHD;AAIH,GApBc;AAqBfG,EAAAA,kBArBe,gCAqBM;AAAA;;AACjB,QAAMC,WAAW,GAAG,KAAKZ,kBAAL,CAAwBa,WAAxB,GAAsCC,OAAtC,CAA8C,MAA9C,EAAsD,EAAtD,CAApB;AACA,QAAI,KAAKf,gBAAL,KAA0B,SAA9B,EAAyC,OAAO,KAAKD,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,aAAIA,CAAC,CAACjF,KAAF,IAAWiF,CAAC,CAACxE,IAAF,CAAO+E,WAAP,GAAqBG,QAArB,CAA8BJ,WAA9B,CAAf;AAAA,KAArB,CAAP;AACzC,QAAI,KAAKb,gBAAL,KAA0B,SAA9B,EAAyC,OAAO,KAAKD,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,aAAIA,CAAC,CAACjF,KAAF,KAAYiF,CAAC,CAACxD,KAAF,KAAY,IAAZ,IAAoBwD,CAAC,CAACpC,UAAF,EAAhC,CAAJ;AAAA,KAArB,CAAP;AACzC,WAAO,KAAK4B,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,aAAIA,CAAC,CAACjF,KAAF,IAAWiF,CAAC,CAACzE,IAAF,KAAW,MAAI,CAACkE,gBAA/B;AAAA,KAArB,CAAP;AACH,GA1Bc;AA2BfkB,EAAAA,YA3Be,wBA2BFF,MA3BE,EA2BM;AACjB,QAAI,KAAKd,cAAL,KAAwBc,MAA5B,EAAoC,KAAKd,cAAL,GAAsB,KAAKA,cAAL,GAAoB,KAA1C,CAApC,KACK,KAAKA,cAAL,GAAsBc,MAAtB;AACLG,IAAAA,UAAU;AACb,GA/Bc;AAgCfC,EAAAA,SAhCe,qBAgCLC,QAhCK,EAgCK;AAChB,QAAMC,MAAM,GAAG,KAAKX,QAAL,CAAcU,QAAd,CAAf;;AACA,QAAIjE,eAAe,CAACiB,iBAAhB,CAAkC,MAAlC,IAA4CiD,MAAM,CAACC,QAAvD,EAAiE;AAC7DjD,MAAAA,aAAa,CAACkD,aAAd;AACA;AACH;;AACDpE,IAAAA,eAAe,CAACqE,WAAhB,CAA4BH,MAAM,CAACC,QAAnC;AACAD,IAAAA,MAAM,CAAChG,KAAP,GAAe,IAAf;AACAgD,IAAAA,aAAa,CAAC8C,SAAd,CAAwBE,MAAM,CAACvF,IAA/B;AACA2F,IAAAA,oBAAoB,CAACjF,YAAY,CAACC,SAAb,CAAuB4E,MAAM,CAACK,WAA9B,CAAD,CAApB;AACAC,IAAAA,oBAAoB;AACpBC,IAAAA,oBAAoB;AACpBC,IAAAA,eAAe;AAClB,GA7Cc;AA8CfnB,EAAAA,QA9Ce,oBA8CNhF,EA9CM,EA8CF;AACT,WAAO,KAAKoE,OAAL,CAAagC,IAAb,CAAkB,UAAAT,MAAM;AAAA,aAAIA,MAAM,CAAC3F,EAAP,KAAcA,EAAlB;AAAA,KAAxB,CAAP;AACH,GAhDc;AAiDfqG,EAAAA,aAjDe,yBAiDDlG,IAjDC,EAiDK;AAChB,WAAO,KAAKiE,OAAL,CAAakC,IAAb,CAAkB,UAAA1B,CAAC;AAAA,aAAEA,CAAC,CAACzE,IAAF,KAAWA,IAAX,IAAmByE,CAAC,CAACjF,KAAvB;AAAA,KAAnB,CAAP;AACH,GAnDc;AAoDf4G,EAAAA,YApDe,0BAoDA;AACX,WAAO,KAAKnC,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,aAAEA,CAAC,CAACpC,UAAF,MAAkBoC,CAAC,CAACxB,UAAF,KAAe,QAAnC;AAAA,KAArB,EAAkEoD,MAAzE;AACH,GAtDc;AAuDfC,EAAAA,WAvDe,yBAuDD;AACV,WAAO,KAAKrC,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,aAAEA,CAAC,CAACxB,UAAF,KAAe,QAAjB;AAAA,KAArB,EAAgDoD,MAAvD;AACH,GAzDc;AA0DfE,EAAAA,OA1De,qBA0DL;AACN,QAAMC,IAAI,GAAG,KAAKvC,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,aAAEA,CAAC,CAACjF,KAAJ;AAAA,KAArB,EAAgCiH,GAAhC,CAAoC,UAAAhC,CAAC;AAAA,aAAEA,CAAC,CAACvE,GAAJ;AAAA,KAArC,CAAb;AACA,WAAO8B,IAAI,CAAC2B,GAAL,OAAA3B,IAAI,qBAAQwE,IAAR,EAAX;AACH,GA7Dc;AA8DfE,EAAAA,aA9De,yBA8DDC,OA9DC,EA8DQ;AACnB,WAAO,KAAK1C,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,aAAEA,CAAC,CAACoB,WAAF,KAAkBc,OAApB;AAAA,KAArB,CAAP;AACH,GAhEc;AAiEfC,EAAAA,eAjEe,2BAiEC1G,GAjED,EAiEM;AAAA;;AACjB,QAAM2G,KAAK,GAAG,EAAd;AACA/H,IAAAA,QAAQ,CAAC0B,OAAT,CAAiB,UAAAR,IAAI,EAAI;AACrB,UAAM8G,QAAQ,GAAG,MAAI,CAAC7C,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,eAAEA,CAAC,CAACzE,IAAF,KAAWA,IAAb;AAAA,OAArB,CAAjB;;AACA,UAAM+G,SAAS,GAAGD,QAAQ,CAAC5B,MAAT,CAAgB,UAAAT,CAAC;AAAA,eAAIA,CAAC,CAACuC,MAAF,IAAY9G,GAAhB;AAAA,OAAjB,CAAlB;AACA,UAAM+G,eAAe,GAAGF,SAAS,CAACN,GAAV,CAAc,UAAAhC,CAAC;AAAA,eAAIA,CAAC,CAACuC,MAAN;AAAA,OAAf,CAAxB;AACA,UAAME,YAAY,GAAGlF,IAAI,CAAC2B,GAAL,OAAA3B,IAAI,qBAAQiF,eAAR,EAAzB;AACA,UAAM3C,IAAI,GAAGyC,SAAS,CAACd,IAAV,CAAe,UAAAxB,CAAC;AAAA,eAAIA,CAAC,CAACuC,MAAF,KAAaE,YAAjB;AAAA,OAAhB,CAAb;AACA,UAAI5C,IAAI,KAAKxE,SAAb,EAAwB+G,KAAK,CAACtC,IAAN,CAAWD,IAAX;AAC3B,KAPD;AAQA,WAAOuC,KAAP;AACH,GA5Ec;AA6EfM,EAAAA,QA7Ee,sBA6EJ;AACP,QAAM9D,UAAU,GAAG+D,aAAa,CAACC,0BAAd,EAAnB;AACA,SAAKpD,OAAL,CAAazD,OAAb,CAAqB,UAAAgF,MAAM,EAAI;AAC3BA,MAAAA,MAAM,CAAC8B,WAAP,CAAmBjE,UAAnB;AACH,KAFD;AAGAkE,IAAAA,cAAc;AACjB,GAnFc;AAoFfC,EAAAA,cApFe,0BAoFAjC,QApFA,EAoFU;AACrB,SAAKV,QAAL,CAAcU,QAAd,EAAwBiC,cAAxB;AACH,GAtFc;AAuFfC,EAAAA,iBAvFe,6BAuFG/G,KAvFH,EAuFU;AACrB,WAAO,KAAKuD,OAAL,CAAaiB,MAAb,CAAoB,UAAAT,CAAC;AAAA,aAAEA,CAAC,CAACoB,WAAF,KAAkBnF,KAAlB,IAA2B,CAAC+D,CAAC,CAACnF,QAA9B,IAA0CmF,CAAC,CAACjF,KAA9C;AAAA,KAArB,EAA0EiH,GAA1E,CAA8E,UAAAhC,CAAC;AAAA,aAAEA,CAAC,CAAC5E,EAAJ;AAAA,KAA/E,CAAP;AACH;AAzFc,CAAnB;AA4FA,IAAM6H,mBAAmB,GAAG1I,CAAC,CAAC,qBAAD,CAA7B,C,CAEA;;AACAA,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAuB,qBAAvB,EAA6C,UAACC,CAAD,EAAO;AAChDA,EAAAA,CAAC,CAACC,cAAF;AACA,MAAMC,aAAa,GAAG/I,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmBC,QAAnB,CAA4B,cAA5B,KAA+C,CAACjJ,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmBC,QAAnB,CAA4B,cAA5B,CAAtE;AACAP,EAAAA,mBAAmB,CAACQ,WAApB,CAAgC,2BAAhC;AACAR,EAAAA,mBAAmB,CAACQ,WAApB,CAAgC,cAAhC;AACAlJ,EAAAA,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmB1H,QAAnB,CAA4B,cAA5B;AACA,MAAIyH,aAAJ,EAAmB/I,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmB1H,QAAnB,CAA4B,cAA5B;AACnB,MAAM4E,MAAM,GAAGlG,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmBlH,IAAnB,CAAwB,aAAxB,CAAf;AACAkD,EAAAA,UAAU,CAACoB,YAAX,CAAwBF,MAAxB;AACH,CATD;;AAWA,SAASY,oBAAT,GAAgC;AAC5B;AACAhH,EAAAA,QAAQ,CAAC0B,OAAT,CAAiB,UAAAR,IAAI,EAAI;AACrB,QAAMmI,UAAU,GAAGnJ,CAAC,CAAC,QAAMgB,IAAP,CAApB;AACA,QAAIgE,UAAU,CAACkC,aAAX,CAAyBlG,IAAzB,CAAJ,EAAoCmI,UAAU,CAACC,IAAX,GAApC,KACKD,UAAU,CAACE,IAAX;AACR,GAJD;AAKH;;AAED,IAAMC,eAAe,GAAGtJ,CAAC,CAAC,iBAAD,CAAzB;AAEA,IAAMuJ,SAAS,GAAG;AACd,aAAU,EADI;AAEdC,EAAAA,UAAU,EAAG,EAFC;AAGdvI,EAAAA,IAAI,EAAG,EAHO;AAIdwI,EAAAA,OAAO,EAAG,EAJI;AAKdC,EAAAA,OAAO,EAAG,EALI;AAMdC,EAAAA,UAAU,EAAG,EANC;AAOdzI,EAAAA,GAAG,EAAG,EAPQ;AAQd0I,EAAAA,MAAM,EAAG,EARK;AASdC,EAAAA,IAAI,EAAG,EATO;AAUdC,EAAAA,OAAO,EAAG,EAVI;AAWdnJ,EAAAA,KAAK,EAAG,EAXM;AAYdoJ,EAAAA,QAAQ,EAAG,EAZG;AAadC,EAAAA,aAAa,EAAG,EAbF;AAcdC,EAAAA,UAAU,EAAG;AAdC,CAAlB;;AAiBA,SAASC,iBAAT,GAA6B;AAAE;AAC3BlF,EAAAA,UAAU,CAACC,OAAX,CAAmBiB,MAAnB,CAA0B,UAAAT,CAAC;AAAA,WAAEA,CAAC,CAACxB,UAAF,KAAiB,QAAnB;AAAA,GAA3B,EAAwDzC,OAAxD,CAAgE,UAAAgF,MAAM,EAAI;AACtE,QAAM2D,cAAc,GAAGnK,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,gBAArB,EAAuCO,MAAvC,CAA8CuI,eAAe,CAAC5D,MAAD,CAA7D,EAAsE6D,cAAc,CAAC7D,MAAD,CAApF,CAAvB;AACA,QAAM8D,mBAAmB,GAAGtK,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,qBAArB,EAA4CiJ,IAA5C,CAAiD,UAAjD,EAA4D/D,MAAM,CAAC3F,EAAnE,EAAuEiB,IAAvE,CAA4E,IAA5E,EAAiF,OAAK0E,MAAM,CAAC3F,EAA7F,EAAiGgB,MAAjG,CAAwGsI,cAAxG,EAAwHd,IAAxH,EAA5B;AACAC,IAAAA,eAAe,CAACzH,MAAhB,CAAuByI,mBAAvB;AACAf,IAAAA,SAAS,CAACS,aAAV,CAAwBxD,MAAM,CAAC3F,EAA/B,IAAqCyJ,mBAArC;AACH,GALD;AAMA,MAAME,QAAQ,GAAGxF,UAAU,CAACC,OAAX,CAAmBiB,MAAnB,CAA0B,UAAAT,CAAC;AAAA,WAAEA,CAAC,CAACxB,UAAF,KAAiB,QAAnB;AAAA,GAA3B,CAAjB;AACAsF,EAAAA,SAAS,WAAT,GAAoBiB,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,CAAC7J,EAAF,CAAK+J,aAAL,CAAmBD,CAAC,CAAC9J,EAArB,CAAV;AAAA,GAAd,EAAkD4G,GAAlD,CAAsD,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAAvD,CAApB;AACA0I,EAAAA,SAAS,CAACC,UAAV,GAAuBgB,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUA,CAAC,CAAC9J,EAAF,CAAK+J,aAAL,CAAmBF,CAAC,CAAC7J,EAArB,CAAV;AAAA,GAAd,EAAkD4G,GAAlD,CAAsD,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAAvD,CAAvB;AACA0I,EAAAA,SAAS,CAACtI,IAAV,GAAiBuJ,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,CAACzJ,IAAF,CAAO2J,aAAP,CAAqBD,CAAC,CAAC1J,IAAvB,CAAV;AAAA,GAAd,EAAsDwG,GAAtD,CAA0D,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAA3D,CAAjB;AACA0I,EAAAA,SAAS,CAACE,OAAV,GAAoBe,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUA,CAAC,CAAC1J,IAAF,CAAO2J,aAAP,CAAqBF,CAAC,CAACzJ,IAAvB,CAAV;AAAA,GAAd,EAAsDwG,GAAtD,CAA0D,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAA3D,CAApB;AACA0I,EAAAA,SAAS,CAACG,OAAV,GAAoBc,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,WAAS3H,IAAI,CAACC,GAAL,CAAS,GAAT,EAAayH,CAAC,CAACrK,UAAf,IAA2B2C,IAAI,CAACC,GAAL,CAAS,GAAT,EAAa0H,CAAC,CAACtK,UAAf,CAApC;AAAA,GAAd,EAA8EoH,GAA9E,CAAkF,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAAnF,CAApB;AACA0I,EAAAA,SAAS,CAACI,UAAV,GAAuBa,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,WAAS3H,IAAI,CAACC,GAAL,CAAS,GAAT,EAAa0H,CAAC,CAACtK,UAAf,IAA2B2C,IAAI,CAACC,GAAL,CAAS,GAAT,EAAayH,CAAC,CAACrK,UAAf,CAApC;AAAA,GAAd,EAA8EoH,GAA9E,CAAkF,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAAnF,CAAvB;AACA0I,EAAAA,SAAS,CAACrI,GAAV,GAAgBsJ,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,WAASD,CAAC,CAACxJ,GAAF,GAAQyJ,CAAC,CAACzJ,GAAnB;AAAA,GAAd,EAAsCuG,GAAtC,CAA0C,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAA3C,CAAhB;AACA0I,EAAAA,SAAS,CAACK,MAAV,GAAmBY,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,WAASA,CAAC,CAACzJ,GAAF,GAAQwJ,CAAC,CAACxJ,GAAnB;AAAA,GAAd,EAAsCuG,GAAtC,CAA0C,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAA3C,CAAnB;AACA0I,EAAAA,SAAS,CAACM,IAAV,GAAiBW,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,WAASD,CAAC,CAAClG,SAAF,GAAcmG,CAAC,CAACnG,SAAzB;AAAA,GAAd,EAAkDiD,GAAlD,CAAsD,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAAvD,CAAjB;AACA0I,EAAAA,SAAS,CAACO,OAAV,GAAoBU,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,WAASA,CAAC,CAACnG,SAAF,GAAckG,CAAC,CAAClG,SAAzB;AAAA,GAAd,EAAkDiD,GAAlD,CAAsD,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAAvD,CAApB;AACA0I,EAAAA,SAAS,CAAC5I,KAAV,GAAkB6J,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,WAASD,CAAC,CAAC/J,KAAF,GAAUgK,CAAC,CAAChK,KAArB;AAAA,GAAd,EAA0C8G,GAA1C,CAA8C,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAA/C,CAAlB;AACA0I,EAAAA,SAAS,CAACQ,QAAV,GAAqBS,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,WAASA,CAAC,CAAChK,KAAF,GAAU+J,CAAC,CAAC/J,KAArB;AAAA,GAAd,EAA0C8G,GAA1C,CAA8C,UAAAhC,CAAC;AAAA,WAAIA,CAAC,CAAC5E,EAAN;AAAA,GAA/C,CAArB;AACA0I,EAAAA,SAAS,CAACU,UAAV,GAAuBjK,CAAC,CAAC,sBAAD,CAAxB;AACH;;AAED,SAASqG,UAAT,GAAsB;AAClB;AACA,MAAIrB,UAAU,CAACI,cAAX,KAA8B,SAAlC,EAA6C;AACzC,QAAMoF,QAAQ,GAAGxF,UAAU,CAACC,OAAX,CAAmBiB,MAAnB,CAA0B,UAAAT,CAAC;AAAA,aAAEA,CAAC,CAACxB,UAAF,KAAiB,QAAnB;AAAA,KAA3B,CAAjB;AACAsF,IAAAA,SAAS,CAACG,OAAV,GAAoBc,QAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,aAAS3H,IAAI,CAACC,GAAL,CAAS,GAAT,EAAayH,CAAC,CAACrK,UAAf,IAA2B2C,IAAI,CAACC,GAAL,CAAS,GAAT,EAAa0H,CAAC,CAACtK,UAAf,CAApC;AAAA,KAAd,EAA8EoH,GAA9E,CAAkF,UAAAhC,CAAC;AAAA,aAAIA,CAAC,CAAC5E,EAAN;AAAA,KAAnF,CAApB;AACH;;AACD,MAAImE,UAAU,CAACI,cAAX,KAA8B,YAAlC,EAAgD;AAC5C,QAAMoF,SAAQ,GAAGxF,UAAU,CAACC,OAAX,CAAmBiB,MAAnB,CAA0B,UAAAT,CAAC;AAAA,aAAEA,CAAC,CAACxB,UAAF,KAAiB,QAAnB;AAAA,KAA3B,CAAjB;;AACAsF,IAAAA,SAAS,CAACI,UAAV,GAAuBa,SAAQ,CAACC,IAAT,CAAc,UAACC,CAAD,EAAGC,CAAH;AAAA,aAAS3H,IAAI,CAACC,GAAL,CAAS,GAAT,EAAa0H,CAAC,CAACtK,UAAf,IAA2B2C,IAAI,CAACC,GAAL,CAAS,GAAT,EAAayH,CAAC,CAACrK,UAAf,CAApC;AAAA,KAAd,EAA8EoH,GAA9E,CAAkF,UAAAhC,CAAC;AAAA,aAAIA,CAAC,CAAC5E,EAAN;AAAA,KAAnF,CAAvB;AACH;;AACD,MAAMgK,UAAU,GAAGtB,SAAS,CAACvE,UAAU,CAACI,cAAZ,CAA5B;AACAmE,EAAAA,SAAS,CAACU,UAAV,CAAqBQ,IAArB,CAA0B,UAACC,CAAD,EAAGC,CAAH,EAAS;AACnC;AACI,QAAMG,IAAI,GAAGD,UAAU,CAACE,OAAX,CAAmB/K,CAAC,CAAC0K,CAAD,CAAD,CAAKH,IAAL,CAAU,UAAV,CAAnB,CAAb;AACA,QAAMS,IAAI,GAAGH,UAAU,CAACE,OAAX,CAAmB/K,CAAC,CAAC2K,CAAD,CAAD,CAAKJ,IAAL,CAAU,UAAV,CAAnB,CAAb;AACA,WAAOO,IAAI,GAAGE,IAAP,GAAc,CAAd,GAAkB,CAAC,CAA1B;AACH,GALD,EAKGjI,QALH,CAKYuG,eALZ;AAMH;;AAED,SAAS2B,gBAAT,CAA0BC,CAA1B,EAA6B;AACzB;AACAA,EAAAA,CAAC,GAAGA,CAAC,IAAI,CAAT,CAFyB,CAGzB;;AACA,MAAIA,CAAC,KAAK,CAAV,EAAa/K,MAAM,CAACgL,MAAP,CAAc5B,SAAS,CAACS,aAAxB,EAAuCxI,OAAvC,CAA+C,UAAA4J,GAAG;AAAA,WAAIA,GAAG,CAAC/B,IAAJ,EAAJ;AAAA,GAAlD;AACbrE,EAAAA,UAAU,CAACc,kBAAX,GAAgC2B,GAAhC,CAAoC,UAAAhC,CAAC;AAAA,WAAEA,CAAC,CAAC5E,EAAJ;AAAA,GAArC,EAA6CwK,KAA7C,CAAmD,CAAnD,EAAqDH,CAAC,GAAC,EAAvD,EAA2D1J,OAA3D,CAAmE,UAAAgF,MAAM,EAAI;AACzE+C,IAAAA,SAAS,CAACS,aAAV,CAAwBxD,MAAxB,EAAgC4C,IAAhC;AACH,GAFD;AAGH;;AAAA;;AAED,SAASkC,iBAAT,GAA6B;AACzB,MAAIC,SAAS,GAAG,CAAhB;AACAvG,EAAAA,UAAU,CAACc,kBAAX,GAAgC2B,GAAhC,CAAoC,UAAAhC,CAAC;AAAA,WAAEA,CAAC,CAAC5E,EAAJ;AAAA,GAArC,EAA6CW,OAA7C,CAAqD,UAACgF,MAAD,EAASb,CAAT,EAAe;AAChE,QAAI4D,SAAS,CAACS,aAAV,CAAwBxD,MAAxB,EAAgCgF,EAAhC,CAAmC,UAAnC,CAAJ,EAAoDD,SAAS,GAAG5F,CAAZ;AACvD,GAFD;AAGAsF,EAAAA,gBAAgB,CAACM,SAAD,CAAhB;AACH;;AAEDvL,CAAC,CAAC,eAAD,CAAD,CAAmByL,MAAnB,CAA0B,YAAY;AAClC,MAAMC,UAAU,GAAG1L,CAAC,CAAC,gBAAD,CAAD,CAAoB2L,MAApB,KAA+B3L,CAAC,CAAC,IAAD,CAAD,CAAQ2L,MAAR,EAA/B,GAAkD3L,CAAC,CAAC,OAAD,CAAD,CAAW2L,MAAX,EAAlD,GAAwE3L,CAAC,CAAC,QAAD,CAAD,CAAY2L,MAAZ,EAAxE,GAA+F,EAAlH;AACA,MAAMC,UAAU,GAAG5L,CAAC,CAAC,IAAD,CAAD,CAAQ6L,SAAR,EAAnB;AACA,MAAIH,UAAU,IAAIE,UAAU,GAAG,GAA/B,EAAoCN,iBAAiB;AACxD,CAJD;;AAMA,SAASlB,eAAT,CAAyB5D,MAAzB,EAAiC;AAC7B,MAAMsF,GAAG,GAAG9L,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,YAArB,EAAmCO,MAAnC,CAA0C2E,MAAM,CAACuF,WAAP,EAA1C,CAAZ;AACA,MAAMC,GAAG,GAAGhM,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,mBAArB,EAA0CS,IAA1C,CAA+C,oCAA/C,CAAZ;AACA,MAAMkK,GAAG,GAAGjM,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,yBAArB,EAAgDQ,IAAhD,CAAqD;AAAC,oBAAgB;AAAjB,GAArD,EAAuFC,IAAvF,CAA4FyE,MAAM,CAAC0F,SAAP,EAA5F,CAAZ;AACA,MAAI1F,MAAM,CAACvC,UAAP,KAAsB,QAA1B,EAAoCgI,GAAG,CAAC5C,IAAJ;AACpC,MAAM8C,GAAG,GAAGnM,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,eAArB,EAAsCQ,IAAtC,CAA2C,IAA3C,EAAgD0E,MAAM,CAAC3F,EAAP,GAAU,KAA1D,CAAZ;AACI,MAAI2F,MAAM,CAACnD,UAAP,EAAJ,EAAyB8I,GAAG,CAAC7K,QAAJ,CAAa,YAAb;AACzB,MAAM8K,IAAI,GAAGpM,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,cAArB,EAAqCS,IAArC,CAA0CyE,MAAM,CAAC6F,kBAAP,EAA1C,CAAb;AACA,MAAI7F,MAAM,CAACnD,UAAP,EAAJ,EAAyB+I,IAAI,CAAC9K,QAAL,CAAc,YAAd;AAC7B6K,EAAAA,GAAG,CAACtK,MAAJ,CAAWuK,IAAX;AAEA,MAAME,GAAG,GAAGtM,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,oBAArB,CAAZ;AACI,MAAMiL,IAAI,GAAGvM,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,6BAArB,EAAoDQ,IAApD,CAAyD,cAAzD,EAAyE,eAAzE,CAAb;AACI,MAAM0K,KAAK,GAAGxM,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,mCAArB,EAA0DS,IAA1D,kCAAd;AACA,MAAM0K,KAAK,GAAGzM,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,YAArB,EAAmCQ,IAAnC,CAAwC,IAAxC,cAAkD0E,MAAM,CAAC3F,EAAzD,GAA+DkB,IAA/D,CAAoE2K,QAAQ,CAAClG,MAAM,CAACmG,YAAP,EAAD,CAA5E,CAAd;AACJJ,EAAAA,IAAI,CAAC1K,MAAL,CAAY2K,KAAZ,EAAkBC,KAAlB;AAEA,MAAMG,IAAI,GAAG5M,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,+BAArB,EAAsDQ,IAAtD,CAA2D,cAA3D,EAA2E,cAA3E,CAAb;AACI9B,EAAAA,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,qCAArB,EAA4DS,IAA5D,kCAAgGgB,QAAhG,CAAyG6J,IAAzG;AACA5M,EAAAA,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,cAArB,EAAqCS,IAArC,WAA6C8K,SAAS,CAACC,YAAV,CAAuBtG,MAAM,CAAC3F,EAA9B,CAA7C,GAAkFkC,QAAlF,CAA2F6J,IAA3F;AACJ,MAAIpG,MAAM,CAACvC,UAAP,KAAsB,QAA1B,EAAoC2I,IAAI,CAACvD,IAAL;AAEpC,MAAM0D,IAAI,GAAG/M,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,8BAArB,EAAqDQ,IAArD,CAA0D;AAAC,oBAAgB,aAAjB;AAAgC,0BAAsB0E,MAAM,CAAC3F;AAA7D,GAA1D,CAAb;AACIb,EAAAA,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,oCAArB,EAA2DS,IAA3D,kDAAiHgB,QAAjH,CAA0HgK,IAA1H;AACA/M,EAAAA,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,aAArB,EAAoCS,IAApC,CAAyCyE,MAAM,CAACwG,kBAAP,EAAzC,EAAsEjK,QAAtE,CAA+EgK,IAA/E;AACJ,MAAIvG,MAAM,CAACvC,UAAP,KAAsB,QAA1B,EAAoC8I,IAAI,CAAC1D,IAAL;AACxCiD,EAAAA,GAAG,CAACzK,MAAJ,CAAW0K,IAAX,EAAgBK,IAAhB,EAAqBG,IAArB;AAEA,MAAME,GAAG,GAAGjN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,qBAArB,CAAZ;AACI,MAAM4L,IAAI,GAAGlN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,sBAArB,EAA6CQ,IAA7C,CAAkD,IAAlD,EAAuD,QAAM0E,MAAM,CAAC3F,EAApE,EAAwEkB,IAAxE,cAAb;AACA,MAAIyE,MAAM,CAACnD,UAAP,EAAJ,EAAyB6J,IAAI,CAAC5L,QAAL,CAAc,YAAd,EAA4BS,IAA5B;AACzB,MAAIyE,MAAM,CAACvC,UAAP,KAAsB,QAA1B,EAAoCiJ,IAAI,CAAC7D,IAAL;AACpC,MAAM8D,IAAI,GAAGnN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,yBAAsCkF,MAAM,CAAC3F,EAA7C,GAAmDiB,IAAnD,CAAwD,IAAxD,EAA6D0E,MAAM,CAAC3F,EAApE,EAAwEkB,IAAxE,qDAAb;AACAyE,EAAAA,MAAM,CAAC4G,SAAP,GAAmBD,IAAnB;AACJF,EAAAA,GAAG,CAACpL,MAAJ,CAAWqL,IAAX,EAAgBC,IAAhB;AACA,SAAOnN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,iBAArB,EAAwCO,MAAxC,CAA+CiK,GAA/C,EAAmDE,GAAnD,EAAuDC,GAAvD,EAA2DE,GAA3D,EAA+DG,GAA/D,EAAmEW,GAAnE,CAAP;AACH;;AAED,SAASI,iBAAT,GAA6B;AACzBrI,EAAAA,UAAU,CAACC,OAAX,CAAmBzD,OAAnB,CAA2B,UAAAgF,MAAM,EAAI;AACjCxG,IAAAA,CAAC,cAAOwG,MAAM,CAAC3F,EAAd,EAAD,CAAqBkB,IAArB,CAA0B2K,QAAQ,CAAClG,MAAM,CAACmG,YAAP,EAAD,CAAlC;AACH,GAFD;AAGH;;AAED,SAAStC,cAAT,CAAwB7D,MAAxB,EAAgC;AAC5B,MAAMyG,GAAG,GAAGjN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,aAArB,EAAoCS,IAApC,kCAAZ;AAEA,MAAMuL,GAAG,GAAGtN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,wBAArB,CAAZ;AACI,MAAMiM,IAAI,GAAGvN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,iCAArB,EAAwDS,IAAxD,WAAb;AACA,MAAMyL,IAAI,GAAGxN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,wBAArB,EAA+CS,IAA/C,WAAb;AACJuL,EAAAA,GAAG,CAACzL,MAAJ,CAAW0L,IAAX;AACA,MAAI/G,MAAM,CAACvC,UAAP,KAAsB,QAA1B,EAAoCqJ,GAAG,CAACzL,MAAJ,CAAW2L,IAAX;AAEpC,MAAMC,GAAG,GAAGzN,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,qCAArB,CAAZ;AACI,MAAMoM,IAAI,GAAG1N,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,wBAArB,CAAb;AACI,MAAMqM,KAAK,GAAG3N,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,uBAArB,EAA8CS,IAA9C,CAAmDyE,MAAM,CAACoH,eAAP,EAAnD,CAAd;AACA,MAAMC,KAAK,GAAG7N,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,aAArB,EAAoCS,IAApC,CAAyCyE,MAAM,CAACsH,eAAP,EAAzC,CAAd;AACA,MAAMC,KAAK,GAAG/N,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,eAArB,EAAsCQ,IAAtC,CAA2C,IAA3C,EAAgD,OAAK0E,MAAM,CAAC3F,EAA5D,EAAgEkB,IAAhE,WAAwEyE,MAAM,CAACnG,UAA/E,cAAd;AACJqN,EAAAA,IAAI,CAAC7L,MAAL,CAAY8L,KAAZ,EAAkBE,KAAlB,EAAwBE,KAAxB;AACJN,EAAAA,GAAG,CAAC5L,MAAJ,CAAW6L,IAAX;AAEA,MAAMM,GAAG,GAAGhO,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,qCAArB,CAAZ;AACI,MAAM2M,IAAI,GAAGjO,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,wBAArB,CAAb;AACI,MAAM4M,KAAK,GAAGlO,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,uBAArB,EAA8CQ,IAA9C,CAAmD,IAAnD,EAAwD,QAAM0E,MAAM,CAAC3F,EAArE,EAAyEkB,IAAzE,CAA8E,mFAA9E,CAAd;AACA,MAAMuB,WAAW,GAAGkD,MAAM,CAAClD,WAAP,EAApB;AACA,MAAM6K,KAAK,GAAGnO,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,4BAArB,EAAmDQ,IAAnD,CAAwD;AAAC,UAAM,QAAM0E,MAAM,CAAC3F,EAApB;AAAwB,oBAAe,eAAvC;AAAuD,0BAAqByC,WAAW,CAACzC;AAAxF,GAAxD,EAAqJ0J,IAArJ,CAA0J,KAA1J,EAAgK/D,MAAM,CAAC3F,EAAvK,EAA2KkB,IAA3K,sBAA8LuB,WAAW,CAAClB,GAA1M,cAAiNE,eAAe,CAACC,YAAhB,CAA6Be,WAAW,CAACzC,EAAzC,EAA6CuN,GAA9P,EAAd;;AACA,MAAI5H,MAAM,CAACnD,UAAP,EAAJ,EAAyB;AACrB6K,IAAAA,KAAK,CAAC5M,QAAN,CAAe,YAAf,EAA6BS,IAA7B,CAAkC,oIAAlC;AACAoM,IAAAA,KAAK,CAAC7M,QAAN,CAAe,YAAf,EAA6BS,IAA7B;AACH;;AACD,MAAIyE,MAAM,CAACvC,UAAP,KAAsB,QAA1B,EAAoCkK,KAAK,CAAC9E,IAAN;AACxC4E,EAAAA,IAAI,CAACpM,MAAL,CAAYqM,KAAZ,EAAkBC,KAAlB;AACJH,EAAAA,GAAG,CAACnM,MAAJ,CAAWoM,IAAX;AAEA,SAAOjO,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,gBAArB,EAAuCO,MAAvC,CAA8CoL,GAA9C,EAAkDK,GAAlD,EAAsDG,GAAtD,EAA0DO,GAA1D,CAAP;AACH;;AAED,SAASK,gBAAT,CAA0BhO,UAA1B,EAAsC;AAClCA,EAAAA,UAAU,GAAG2C,IAAI,CAACC,GAAL,CAAS,GAAT,EAAa5C,UAAb,CAAb;AACA,MAAMiO,YAAY,GAAIjO,UAAD,CAAakO,OAAb,CAAqB,CAArB,IAAwB,GAA7C;AACA,MAAMC,aAAa,GAAGxO,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,eAArB,EAAsCQ,IAAtC,CAA2C,IAA3C,EAAgD,eAAhD,CAAtB;AACA,MAAM2M,UAAU,GAAGzO,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,YAArB,EAAmCQ,IAAnC,CAAwC,IAAxC,EAA6C,YAA7C,CAAnB;;AACA,MAAIzB,UAAU,IAAI,GAAlB,EAAuB;AACnBmO,IAAAA,aAAa,CAAClN,QAAd,CAAuB,YAAvB;AACAmN,IAAAA,UAAU,CAAC3M,IAAX,CAAgB,YAAhB;AACH,GAHD,MAGO2M,UAAU,CAAC3M,IAAX,CAAgB,YAAhB,YAAgCzB,UAAhC;;AACP,MAAMqO,cAAc,GAAG1O,CAAC,CAAC,QAAD,CAAD,CAAYsB,QAAZ,CAAqB,gBAArB,EAAuCQ,IAAvC,CAA4C,IAA5C,EAAiD,aAAjD,EAAgE6M,GAAhE,CAAoE,OAApE,EAA6EL,YAA7E,CAAvB;AACA,SAAOE,aAAa,CAAC3M,MAAd,CAAqB4M,UAArB,EAAgCC,cAAhC,CAAP;AACH;;AAED,SAASvL,iBAAT,GAA6B;AACzB6B,EAAAA,UAAU,CAACC,OAAX,CAAmBzD,OAAnB,CAA2B,UAACgF,MAAD,EAAY;AACnC,QAAMoI,EAAE,GAAG5O,CAAC,CAAC,QAAMwG,MAAM,CAAC3F,EAAd,CAAZ;AACA+N,IAAAA,EAAE,CAAC7M,IAAH,WAAWyE,MAAM,CAACnG,UAAlB;AACH,GAHD;AAIH;;AAED,SAAS+C,mBAAT,GAA+B;AAC3B4B,EAAAA,UAAU,CAACC,OAAX,CAAmBzD,OAAnB,CAA2B,UAAAgF,MAAM,EAAI;AACjC,QAAMqI,GAAG,GAAG7O,CAAC,CAAC,SAAOwG,MAAM,CAAC3F,EAAf,CAAb;AACA,QAAMiO,GAAG,GAAG9O,CAAC,CAAC,SAAOwG,MAAM,CAAC3F,EAAf,CAAb;AACA,QAAMkO,GAAG,GAAG/O,CAAC,CAAC,SAAOwG,MAAM,CAAC3F,EAAf,CAAb;AACA,QAAMmO,GAAG,GAAGhP,CAAC,CAAC,MAAIwG,MAAM,CAAC3F,EAAX,GAAc,KAAf,CAAb;AACA,QAAMsB,QAAQ,GAAIqE,MAAM,CAACvE,KAAR,GAAiB9B,MAAM,CAACoE,IAAP,CAAYiC,MAAM,CAACvE,KAAnB,EAA0B,CAA1B,CAAjB,GAAgD,MAAjE;AACA4M,IAAAA,GAAG,CAAC9M,IAAJ,sBAAuBiB,IAAI,CAAC2B,GAAL,CAAS,GAAT,EAAa,OAAK,IAAE6B,MAAM,CAACnG,UAA3B,CAAvB,cAAiEiC,eAAe,CAACC,YAAhB,CAA6BJ,QAA7B,EAAuCiM,GAAxG;;AACA,QAAI5H,MAAM,CAACnD,UAAP,EAAJ,EAAyB;AACrByL,MAAAA,GAAG,CAACxN,QAAJ,CAAa,YAAb,EAA2BS,IAA3B,CAAgC,oIAAhC;AACA8M,MAAAA,GAAG,CAACvN,QAAJ,CAAa,YAAb,EAA2B4H,WAA3B,CAAuC,SAAvC,EAAkDnH,IAAlD;AACAgN,MAAAA,GAAG,CAACzN,QAAJ,CAAa,YAAb,EAA2BS,IAA3B;AACAiN,MAAAA,GAAG,CAAC/H,IAAJ,CAAS,UAAT,EAAqBnF,IAArB,CAA0B;AAAC,wBAAe,wBAAhB;AAAyC,8BAAqBK,QAAQ,CAACtB;AAAvE,OAA1B,EAAsGS,QAAtG,CAA+G,YAA/G;AACH;AACJ,GAbD;AAcH,C,CAED;;;AACA,SAAS2N,mBAAT,GAA+B;AAC3BjK,EAAAA,UAAU,CAACC,OAAX,CAAmBzD,OAAnB,CAA2B,UAACgF,MAAD,EAAY;AACnC,QAAMoI,EAAE,GAAG5O,CAAC,CAAC,QAAMwG,MAAM,CAAC3F,EAAb,GAAgB,gBAAjB,CAAZ;AACA,QAAMqO,QAAQ,GAAGrC,SAAS,CAACC,YAAV,CAAuBtG,MAAM,CAAC3F,EAA9B,CAAjB;AACA+N,IAAAA,EAAE,CAAC7M,IAAH,CAAQmN,QAAR;AACH,GAJD;AAKH;;AAED,SAAS3G,cAAT,GAA0B;AACtB;AACAvD,EAAAA,UAAU,CAACC,OAAX,CAAmBzD,OAAnB,CAA2B,UAAAgF,MAAM,EAAI;AACjC,QAAIA,MAAM,CAACvC,UAAP,KAAsB,QAA1B,EAAoC;AACpC,QAAIuC,MAAM,CAACnC,UAAX,EAAuBmC,MAAM,CAAC4G,SAAP,CAAiBlE,WAAjB,CAA6B,oBAA7B,EAAvB,KACK1C,MAAM,CAAC4G,SAAP,CAAiB9L,QAAjB,CAA0B,oBAA1B;AACR,GAJD;AAKH;;AAED,IAAM6N,gBAAgB,GAAGnP,CAAC,CAAC,kBAAD,CAA1B;AACA,IAAIoP,kBAAkB,GAAG,IAAzB;AAEApP,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAwB,cAAxB,EAAwC,UAACC,CAAD,EAAO;AAC3C;AACAA,EAAAA,CAAC,CAACC,cAAF;AACA,MAAMuG,MAAM,GAAGrP,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmBlH,IAAnB,CAAwB,IAAxB,CAAf;AACAwN,EAAAA,iBAAiB,CAACC,OAAlB,CAA0BF,MAA1B;AACH,CALD;AAOArP,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAwB,eAAxB,EAAyC,UAACC,CAAD,EAAO;AAC5C;AACAA,EAAAA,CAAC,CAACC,cAAF;AACA9I,EAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBkJ,WAArB,CAAiC,mBAAjC;AACAlJ,EAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBkJ,WAAtB,CAAkC,oBAAlC;AACA,MAAMlI,IAAI,GAAGhB,CAAC,CAAC6I,CAAC,CAAC2G,MAAH,CAAD,CAAY1N,IAAZ,CAAiB,IAAjB,EAAuB2N,SAAvB,CAAiC,CAAjC,CAAb;AACAzK,EAAAA,UAAU,CAACE,gBAAX,GAA8BlE,IAA9B;AACAgE,EAAAA,UAAU,CAACG,kBAAX,GAAgC,EAAhC;AACA8F,EAAAA,gBAAgB;AACnB,CATD;AAWAjL,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAuB,oBAAvB,EAA6C,UAACC,CAAD,EAAO;AAChDA,EAAAA,CAAC,CAACC,cAAF;AACA9I,EAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBkJ,WAArB,CAAiC,mBAAjC;AACAlJ,EAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBkJ,WAAtB,CAAkC,oBAAlC;AACAlJ,EAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBsB,QAAzB,CAAkC,MAAlC;AACAtB,EAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBkJ,WAApB,CAAgC,UAAhC;AACAlJ,EAAAA,CAAC,CAAC,WAAD,CAAD,CAAesB,QAAf,CAAwB,UAAxB;AACAtB,EAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBkJ,WAAvB,CAAmC,MAAnC;AACAlJ,EAAAA,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmB0G,MAAnB,GAA4BpO,QAA5B,CAAqC,oBAArC;AACAtB,EAAAA,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmB0G,MAAnB,GAA4BA,MAA5B,GAAqCpO,QAArC,CAA8C,mBAA9C;AACH,CAVD;AAYAtB,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAuB,qBAAvB,EAA8C,UAACC,CAAD,EAAO;AACjDA,EAAAA,CAAC,CAACC,cAAF;AACA,MAAMvC,QAAQ,GAAGvG,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmBuB,IAAnB,CAAwB,KAAxB,CAAjB;AACAvF,EAAAA,UAAU,CAACwD,cAAX,CAA0BjC,QAA1B;AACH,CAJD;AAMAvG,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAuB,cAAvB,EAAuC,UAACC,CAAD,EAAO;AAC1CA,EAAAA,CAAC,CAACC,cAAF;AACA9I,EAAAA,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmB0G,MAAnB,GAA4BC,IAA5B,GAAmCzG,WAAnC,CAA+C,oBAA/C;AACAlJ,EAAAA,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmB0G,MAAnB,GAA4BA,MAA5B,GAAqCxG,WAArC,CAAiD,mBAAjD;AACH,CAJD;AAMAlJ,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAuB,gBAAvB,EAAyC,UAACC,CAAD,EAAO;AAC5CA,EAAAA,CAAC,CAACC,cAAF;AACA7H,EAAAA,IAAI,GAAGjB,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmB4G,IAAnB,EAAP;AACA5P,EAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyBsB,QAAzB,CAAkC,MAAlC;AACAtB,EAAAA,CAAC,CAAC,eAAaiB,IAAd,CAAD,CAAqBiI,WAArB,CAAiC,MAAjC;AACAlJ,EAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBkJ,WAApB,CAAgC,UAAhC;AACAlJ,EAAAA,CAAC,CAAC6I,CAAC,CAACG,aAAH,CAAD,CAAmB1H,QAAnB,CAA4B,UAA5B;AACH,CAPD;AAUA,IAAMuO,gBAAgB,GAAG7P,CAAC,CAAC,kBAAD,CAA1B,C,CAEA;;AACAA,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAuB,mBAAvB,EAA4C,UAACC,CAAD,EAAO;AAC/CA,EAAAA,CAAC,CAACC,cAAF;AACA,MAAMgH,YAAY,GAAGD,gBAAgB,CAACE,GAAjB,EAArB;AACA,MAAID,YAAY,CAACzI,MAAb,GAAsB,CAA1B,EAA6B,OAAO7D,aAAa,CAACwM,mBAAd,EAAP;AAC7BhL,EAAAA,UAAU,CAACG,kBAAX,GAAgC2K,YAAhC;AACA9K,EAAAA,UAAU,CAACE,gBAAX,GAA8B,SAA9B;AACA+F,EAAAA,gBAAgB;AACnB,CAPD,E,CASA;;AACAjL,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,SAAf,EAAyB,kBAAzB,EAA6C,UAACC,CAAD,EAAO;AAChD,MAAIA,CAAC,CAACoH,OAAF,KAAc,EAAlB,EAAsB;AACtBpH,EAAAA,CAAC,CAACC,cAAF;AACA,MAAMgH,YAAY,GAAGD,gBAAgB,CAACE,GAAjB,EAArB;AACA,MAAID,YAAY,CAACzI,MAAb,GAAsB,CAA1B,EAA6B,OAAO7D,aAAa,CAACwM,mBAAd,EAAP;AAC7BhL,EAAAA,UAAU,CAACG,kBAAX,GAAgC2K,YAAhC;AACA9K,EAAAA,UAAU,CAACE,gBAAX,GAA8B,SAA9B;AACA+F,EAAAA,gBAAgB;AACnB,CARD,E,CAUA;;AACAjL,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAuB,kBAAvB,EAA2C,UAACC,CAAD,EAAO;AAC9CqH,EAAAA,QAAQ,CAACC,YAAT,GAAwB,CAAxB;AACAC,EAAAA,YAAY;AACf,CAHD;AAKApQ,CAAC,CAAC2I,QAAD,CAAD,CAAYC,EAAZ,CAAe,MAAf,EAAsB,kBAAtB,EAA0C,UAACC,CAAD,EAAO;AAC7CqH,EAAAA,QAAQ,CAACC,YAAT,GAAwB,CAAxB;AACAC,EAAAA,YAAY;AACf,CAHD","sourcesContent":["\"use strict\";\r\n\r\nconst ItemType = [\"Heavy\", \"Light\", \"Arcane\",\r\n                    \"Armor\", \"Belts\", \"Cloaks\", \r\n                    \"Gauntlets\", \"Gloves\", \"Hats\", \r\n                    \"Helmets\", \"Masks\", \"Pendants\", \r\n                    \"Rings\", \"Shields\", \"Shoes\", \r\n                    \"Thrown\", \"Tomes\", \"Vests\"];\r\n\r\nconst $RecipeResults = $(\"#RecipeResults\");\r\n\r\nclass Item{\r\n    constructor (props) {\r\n        Object.assign(this, props);\r\n        this.craftCount = 0;\r\n        this.mastered = false;\r\n        this.autoSell = \"None\";\r\n        this.owned = false;\r\n        this.goldComma = this.itemValueCommas(this.value);\r\n    }\r\n    createSave() {\r\n        const save = {};\r\n        save.id = this.id;\r\n        save.craftCount = this.craftCount;\r\n        save.autoSell = this.autoSell;\r\n        save.owned = this.owned;\r\n        save.mastered = this.mastered;\r\n        return save;\r\n    }\r\n    loadSave(save) {\r\n        this.craftCount = save.craftCount;\r\n        this.autoSell = save.autoSell;\r\n        this.owned = save.owned;\r\n        if (save.mastered !== undefined) this.mastered = save.mastered;\r\n    }\r\n    itemDescription() {\r\n        return this.description;\r\n    }\r\n    itemPicName() {\r\n        return \"<img src='/assets/images/recipes/\"+this.type+\"/\"+this.id+\".png'>\"+\"<div class='item-name'>\"+this.name+\"</div>\";\r\n    }\r\n    itemName() {\r\n        return \"<div class='item-name'>\"+this.name+\"</div>\";\r\n    }\r\n    itemPic() {\r\n        return \"<img src='/assets/images/recipes/\"+this.type+\"/\"+this.id+\".png'>\";\r\n    }\r\n    itemLevel() {\r\n        return `<div class=\"level_text\">LVL</div><div class=\"level_integer\">${this.lvl}</div>`;\r\n    }\r\n    itemValueCommas() {\r\n        return formatWithCommas(this.value);\r\n    }\r\n    itemValueFormatted() {\r\n        return formatToUnits(this.value,2);\r\n    }\r\n    itemValue() {\r\n        return this.value;\r\n    }\r\n    visualizeResAndMat() {\r\n        const d = $(\"<div/>\").addClass(\"itemCost\");\r\n        this.gcost.forEach(resource => {\r\n            const guild = GuildManager.idToGuild(resource);\r\n            d.append($(\"<div/>\").addClass(\"indvCost resCost tooltip\").attr({\"data-tooltip\":\"guild_worker\",\"data-tooltip-value\":guild.id}).html(guild.icon));\r\n        })\r\n        if (this.mcost === null) return d;\r\n        for (const [material, amt] of Object.entries(this.mcost)) {\r\n            const mat = ResourceManager.idToMaterial(material);\r\n            const d1 = $(\"<div/>\").addClass(\"indvCost matCost tooltip\").attr(\"id\",\"vr\"+this.id).attr({\"data-tooltip\":\"material_desc\",\"data-tooltip-value\":mat.id}).html(ResourceManager.formatCost(material,amt));\r\n            d.append(d1);\r\n        }\r\n        return d;\r\n    }\r\n    recipeListStats() {\r\n        const d = $(\"<div/>\").addClass(\"recipeStatList\");\r\n        const pow = this.pow*this.pts;\r\n        const hp = 9*this.hp*this.pts;\r\n        const tech = this.tech*this.pts;\r\n        if (pow > 0) $(\"<div/>\").addClass(\"recipeStatListPow tooltip\").attr(\"data-tooltip\", \"pow\").html(`${miscIcons.pow}<span class=\"statValue\">${pow}</span>`).appendTo(d);\r\n        if (hp > 0) $(\"<div/>\").addClass(\"recipeStatListHP tooltip\").attr(\"data-tooltip\", \"hp\").html(`${miscIcons.hp}<span class=\"statValue\">${hp}</span>`).appendTo(d);\r\n        if (tech > 0) $(\"<div/>\").addClass(\"recipeStatListTech tooltip\").attr(\"data-tooltip\", \"tech\").html(`${miscIcons.tech}<span class=\"statValue\">${tech}</span>`).appendTo(d);\r\n        return d;\r\n    }\r\n    count() {\r\n        return Math.min(this.craftCount,100);\r\n    }\r\n    addCount(skipAnimation) {\r\n        this.craftCount += 1;\r\n        if (skipAnimation) return;\r\n        refreshMasteryBar();\r\n        refreshCraftedCount();\r\n    }\r\n    attemptMastery() {\r\n        if (this.isMastered()) return;\r\n        const masteryCost = this.masteryCost();\r\n        if (ResourceManager.materialAvailable(masteryCost.id) < masteryCost.amt) {\r\n            Notifications.recipeMasterNeedMore();\r\n            return;\r\n        }\r\n        ResourceManager.addMaterial(masteryCost.id,-masteryCost.amt);\r\n        this.mastered = true;\r\n        Notifications.masterRecipe(this.name);\r\n        refreshCraftedCount();\r\n        destroyTooltip(); // Removes stuck tooltip after mastering item on recipe card\r\n        refreshProgress();\r\n        refreshMonsterReward();\r\n        GuildManager.repopulateUnmastered();\r\n        refreshAllRecipeMastery();\r\n    }\r\n    isMastered() {\r\n        if (this.recipeType === \"building\" || this.recipeType === \"Trinket\") return false;\r\n        return this.mastered;\r\n    }\r\n    autoSellToggle() {\r\n        if (this.autoSell === \"None\") this.autoSell = \"Common\";\r\n        else if (this.autoSell === \"Common\") this.autoSell = \"Good\";\r\n        else if (this.autoSell === \"Good\") this.autoSell = \"Great\";\r\n        else if (this.autoSell === \"Great\") this.autoSell = \"Epic\";\r\n        else this.autoSell = \"None\";\r\n        return this.autoSell;\r\n    }\r\n    setCanCraft(canProduceBucket) {\r\n        const needBucket = groupArray(this.gcost);\r\n        this.canProduce = true;\r\n        for (const [res, amt] of Object.entries(needBucket)) {\r\n            if (canProduceBucket[res] === undefined || canProduceBucket[res] < amt) {\r\n                this.canProduce = false;\r\n            };\r\n        }\r\n    }\r\n    material() {\r\n        if (!this.mcost) return \"M201\";\r\n        return Object.keys(this.mcost)[0]\r\n    }\r\n    reducedCraft() {\r\n        return this.craftTime * MonsterHall.lineIncrease(this.type,0);\r\n    }\r\n    masteryCost() {\r\n        const amt = Math.max(this.minMastery,this.maxMastery-this.reductionMastery*this.craftCount);\r\n        const material = this.mcost ? Object.keys(this.mcost)[0] : \"M201\";\r\n        return new idAmt(material,amt);\r\n    }\r\n}\r\n\r\nconst recipeList = {\r\n    recipes : [],\r\n    recipeFilterType : \"default\",\r\n    recipeFilterString : \"\",\r\n    recipeSortType : \"default\",\r\n    addItem(item) {\r\n        this.recipes.push(item);\r\n    },\r\n    createSave() {\r\n        const save = [];\r\n        this.recipes.forEach(r=> {\r\n            save.push(r.createSave());\r\n        });\r\n        return save;\r\n    },\r\n    loadSave(save) {\r\n        save.forEach(i => {\r\n            const rec = this.idToItem(i.id);\r\n            if (rec !== undefined) rec.loadSave(i);\r\n        });\r\n    },\r\n    filteredRecipeList() {\r\n        const cleanString = this.recipeFilterString.toLowerCase().replace(/\\s+/g, '');\r\n        if (this.recipeFilterType === \"default\") return this.recipes.filter(r => r.owned && r.name.toLowerCase().includes(cleanString));\r\n        if (this.recipeFilterType === \"Matless\") return this.recipes.filter(r => r.owned && (r.mcost === null || r.isMastered()));\r\n        return this.recipes.filter(r => r.owned && r.type === this.recipeFilterType);\r\n    },\r\n    setSortOrder(filter) {\r\n        if (this.recipeSortType === filter) this.recipeSortType = this.recipeSortType+\"Asc\";\r\n        else this.recipeSortType = filter;\r\n        recipeSort();\r\n    },\r\n    buyRecipe(recipeID) {\r\n        const recipe = this.idToItem(recipeID);\r\n        if (ResourceManager.materialAvailable(\"M001\") < recipe.goldCost) {\r\n            Notifications.recipeGoldReq();\r\n            return;\r\n        }\r\n        ResourceManager.deductMoney(recipe.goldCost);\r\n        recipe.owned = true;\r\n        Notifications.buyRecipe(recipe.name);\r\n        refreshRecipeMastery(GuildManager.idToGuild(recipe.guildUnlock));\r\n        refreshRecipeFilters();\r\n        checkCraftableStatus();\r\n        refreshAllSales();\r\n    },\r\n    idToItem(id) {\r\n        return this.recipes.find(recipe => recipe.id === id);\r\n    },\r\n    ownAtLeastOne(type) {\r\n        return this.recipes.some(r=>r.type === type && r.owned);\r\n    },\r\n    masteryCount() {\r\n        return this.recipes.filter(r=>r.isMastered() && r.recipeType===\"normal\").length;\r\n    },\r\n    recipeCount() {\r\n        return this.recipes.filter(r=>r.recipeType===\"normal\").length;\r\n    },\r\n    maxTier() {\r\n        const lvls = this.recipes.filter(r=>r.owned).map(r=>r.lvl);\r\n        return Math.max(...lvls);\r\n    },\r\n    filterByGuild(guildID) {\r\n        return this.recipes.filter(r=>r.guildUnlock === guildID);\r\n    },\r\n    guildOrderItems(lvl) {\r\n        const items = [];\r\n        ItemType.forEach(type => {\r\n            const typeList = this.recipes.filter(r=>r.type === type);\r\n            const guildWork = typeList.filter(r => r.repReq <= lvl);\r\n            const guildWorkRepReq = guildWork.map(r => r.repReq);\r\n            const chosenRepReq = Math.max(...guildWorkRepReq);\r\n            const item = guildWork.find(r => r.repReq === chosenRepReq);\r\n            if (item !== undefined) items.push(item);\r\n        });\r\n        return items;\r\n    },\r\n    canCraft() {\r\n        const canProduce = WorkerManager.getCurrentProduceAvailable();\r\n        this.recipes.forEach(recipe => {\r\n            recipe.setCanCraft(canProduce);\r\n        });\r\n        recipeCanCraft();\r\n    },\r\n    attemptMastery(recipeID) {\r\n        this.idToItem(recipeID).attemptMastery();\r\n    },\r\n    unmasteredByGuild(guild) {\r\n        return this.recipes.filter(r=>r.guildUnlock === guild && !r.mastered && r.owned).map(r=>r.id);\r\n    }\r\n}\r\n\r\nconst $recipeActionButton = $(\".recipeActionButton\");\r\n\r\n//click the sort by name value etc at the top\r\n$(document).on(\"click\",\".recipeActionButton\",(e) => {\r\n    e.preventDefault();\r\n    const toggleFilterA = $(e.currentTarget).hasClass(\"filterActive\") && !$(e.currentTarget).hasClass(\"toggleFilter\");\r\n    $recipeActionButton.removeClass(\"filterActive toggleFilter\");\r\n    $recipeActionButton.removeClass(\"toggleFilter\");\r\n    $(e.currentTarget).addClass(\"filterActive\");\r\n    if (toggleFilterA) $(e.currentTarget).addClass(\"toggleFilter\");\r\n    const filter = $(e.currentTarget).attr(\"data-filter\");\r\n    recipeList.setSortOrder(filter);\r\n});\r\n\r\nfunction refreshRecipeFilters() {\r\n    //hide recipe buttons if we don't know know a recipe and also can't learn one...\r\n    ItemType.forEach(type => {\r\n        const recipeIcon = $(\"#rf\"+type);\r\n        if (recipeList.ownAtLeastOne(type)) recipeIcon.show();\r\n        else recipeIcon.hide();\r\n    });\r\n}\r\n\r\nconst $recipeContents = $(\"#recipeContents\");\r\n\r\nconst sortOrder = {\r\n    default : [],\r\n    defaultAsc : [],\r\n    name : [],\r\n    nameAsc : [],\r\n    mastery : [],\r\n    masteryAsc : [],\r\n    lvl : [],\r\n    lvlAsc : [],\r\n    time : [],\r\n    timeAsc : [],\r\n    value : [],\r\n    valueAsc : [],\r\n    recipeDivDict : {},\r\n    recipeDivs : null,\r\n}\r\n\r\nfunction initializeRecipes() { //this is run once at the beginning to load ALL the recipes\r\n    recipeList.recipes.filter(r=>r.recipeType === \"normal\").forEach(recipe => {\r\n        const recipeCardInfo = $('<div/>').addClass('recipeCardInfo').append(recipeCardFront(recipe),recipeCardBack(recipe))\r\n        const recipeCardContainer = $('<div/>').addClass('recipeCardContainer').data(\"recipeID\",recipe.id).attr(\"id\",\"rr\"+recipe.id).append(recipeCardInfo).hide();\r\n        $recipeContents.append(recipeCardContainer);\r\n        sortOrder.recipeDivDict[recipe.id] = recipeCardContainer;\r\n    });\r\n    const tempList = recipeList.recipes.filter(r=>r.recipeType === \"normal\");\r\n    sortOrder.default = tempList.sort((a, b) => a.id.localeCompare(b.id)).map(r => r.id);\r\n    sortOrder.defaultAsc = tempList.sort((a, b) => b.id.localeCompare(a.id)).map(r => r.id);\r\n    sortOrder.name = tempList.sort((a, b) => a.name.localeCompare(b.name)).map(r => r.id);\r\n    sortOrder.nameAsc = tempList.sort((a, b) => b.name.localeCompare(a.name)).map(r => r.id);\r\n    sortOrder.mastery = tempList.sort((a,b) => Math.min(100,a.craftCount)-Math.min(100,b.craftCount)).map(r => r.id);\r\n    sortOrder.masteryAsc = tempList.sort((a,b) => Math.min(100,b.craftCount)-Math.min(100,a.craftCount)).map(r => r.id);\r\n    sortOrder.lvl = tempList.sort((a,b) => a.lvl - b.lvl).map(r => r.id);\r\n    sortOrder.lvlAsc = tempList.sort((a,b) => b.lvl - a.lvl).map(r => r.id);\r\n    sortOrder.time = tempList.sort((a,b) => a.craftTime - b.craftTime).map(r => r.id);\r\n    sortOrder.timeAsc = tempList.sort((a,b) => b.craftTime - a.craftTime).map(r => r.id);\r\n    sortOrder.value = tempList.sort((a,b) => a.value - b.value).map(r => r.id);\r\n    sortOrder.valueAsc = tempList.sort((a,b) => b.value - a.value).map(r => r.id);\r\n    sortOrder.recipeDivs = $(\".recipeCardContainer\");\r\n}\r\n\r\nfunction recipeSort() {\r\n    //assign a data-sort value to each div then re-order as appropriate\r\n    if (recipeList.recipeSortType === \"mastery\") {\r\n        const tempList = recipeList.recipes.filter(r=>r.recipeType === \"normal\");\r\n        sortOrder.mastery = tempList.sort((a,b) => Math.min(100,a.craftCount)-Math.min(100,b.craftCount)).map(r => r.id);\r\n    }\r\n    if (recipeList.recipeSortType === \"masteryAsc\") {\r\n        const tempList = recipeList.recipes.filter(r=>r.recipeType === \"normal\");\r\n        sortOrder.masteryAsc = tempList.sort((a,b) => Math.min(100,b.craftCount)-Math.min(100,a.craftCount)).map(r => r.id);\r\n    }\r\n    const sortedList = sortOrder[recipeList.recipeSortType];\r\n    sortOrder.recipeDivs.sort((a,b) => {\r\n    //$(\".recipeCardContainer\").sort((a,b) => {\r\n        const aval = sortedList.indexOf($(a).data(\"recipeID\"));\r\n        const bval = sortedList.indexOf($(b).data(\"recipeID\"));\r\n        return aval > bval ? 1 : -1;\r\n    }).appendTo($recipeContents);\r\n}\r\n\r\nfunction recipeFilterList(n) {\r\n    // if \"n\" not provided, set to 0\r\n    n = n || 0;\r\n    //uses two recipeLists to cycle through all the items and display as appropriate\r\n    if (n === 0) Object.values(sortOrder.recipeDivDict).forEach(div => div.hide());\r\n    recipeList.filteredRecipeList().map(r=>r.id).slice(0,n+30).forEach(recipe => {\r\n        sortOrder.recipeDivDict[recipe].show();\r\n    })\r\n};\r\n\r\nfunction triggerRecipeLoad() {\r\n    let loadCount = 0;\r\n    recipeList.filteredRecipeList().map(r=>r.id).forEach((recipe, i) => {\r\n        if (sortOrder.recipeDivDict[recipe].is(\":visible\")) loadCount = i ;\r\n    })\r\n    recipeFilterList(loadCount);\r\n}\r\n\r\n$(\"#recipes-list\").scroll(function () {\r\n    const condition1 = $(\"#RecipeResults\").height() - $(this).height() + $(\"#tabs\").height() + $(\"footer\").height() - 10;\r\n    const condition2 = $(this).scrollTop();\r\n    if (condition1 <= condition2 + 400) triggerRecipeLoad();\r\n})\r\n\r\nfunction recipeCardFront(recipe) {\r\n    const td1 = $('<div/>').addClass('recipeName').append(recipe.itemPicName());\r\n    const td2 = $('<div/>').addClass('recipeDescription').html(\"<i class='fas fa-info-circle'></i>\");\r\n    const td3 = $('<div/>').addClass('recipeItemLevel tooltip').attr({\"data-tooltip\": \"recipe_level\"}).html(recipe.itemLevel());\r\n    if (recipe.recipeType !== \"normal\") td3.hide();\r\n    const td4 = $('<div/>').addClass('recipecostdiv').attr(\"id\",recipe.id+\"rcd\");\r\n        if (recipe.isMastered()) td4.addClass(\"isMastered\");\r\n        const td4a = $('<div/>').addClass('reciperesdiv').html(recipe.visualizeResAndMat());\r\n        if (recipe.isMastered()) td4a.addClass('isMastered');\r\n    td4.append(td4a);\r\n\r\n    const td5 = $('<div/>').addClass('recipeTimeAndValue');\r\n        const td5a = $('<div/>').addClass('recipeTimeContainer tooltip').attr(\"data-tooltip\", \"crafting_time\")\r\n            const td5a1 = $(\"<div/>\").addClass(\"recipeTimeHeader recipeCardHeader\").html(`<i class=\"fas fa-clock\"></i>`);\r\n            const td5a2 = $('<div/>').addClass('recipeTime').attr(\"id\",`rt${recipe.id}`).html(msToTime(recipe.reducedCraft()));\r\n        td5a.append(td5a1,td5a2);\r\n\r\n        const td5b = $('<div/>').addClass('recipeAmountContainer tooltip').attr(\"data-tooltip\", \"in_inventory\");\r\n            $(\"<div/>\").addClass(\"recipeAmountHeader recipeCardHeader\").html(`<i class=\"fas fa-cube\"></i>`).appendTo(td5b);\r\n            $('<div/>').addClass('recipeAmount').html(`${Inventory.itemCountAll(recipe.id)}`).appendTo(td5b);\r\n        if (recipe.recipeType !== \"normal\") td5b.hide();\r\n\r\n        const td5c = $('<div/>').addClass('recipeValueContainer tooltip').attr({\"data-tooltip\": \"recipe_gold\", \"data-tooltip-value\": recipe.id});\r\n            $(\"<div/>\").addClass(\"recipeValueHeader recipeCardHeader\").html(`<img src='/assets/images/resources/M001.png'>`).appendTo(td5c);\r\n            $('<div/>').addClass('recipeValue').html(recipe.itemValueFormatted()).appendTo(td5c);\r\n        if (recipe.recipeType !== \"normal\") td5c.hide();\r\n    td5.append(td5a,td5b,td5c);\r\n\r\n    const td6 = $('<div/>').addClass('recipeCountAndCraft');\r\n        const td6a = $('<div/>').addClass('recipeMasteredStatus').attr(\"id\",\"rms\"+recipe.id).html(`UNMASTERED`);\r\n        if (recipe.isMastered()) td6a.addClass('isMastered').html(`<i class=\"fas fa-star-christmas\"></i> MASTERED`);\r\n        if (recipe.recipeType !== \"normal\") td6a.hide();\r\n        const td6b = $('<div/>').addClass(`recipeCraft rr${recipe.id}`).attr(\"id\",recipe.id).html(`<i class=\"fas fa-hammer\"></i><span>Craft</span>`);\r\n        recipe.recipeDiv = td6b;\r\n    td6.append(td6a,td6b);\r\n    return $('<div/>').addClass('recipeCardFront').append(td1,td2,td3,td4,td5,td6);\r\n}\r\n\r\nfunction refreshCraftTimes() {\r\n    recipeList.recipes.forEach(recipe => {\r\n        $(`#rt${recipe.id}`).html(msToTime(recipe.reducedCraft()));\r\n    });\r\n}\r\n\r\nfunction recipeCardBack(recipe) {\r\n    const td6 = $('<div/>').addClass('recipeClose').html(`<i class=\"fas fa-times\"></i>`);\r\n        \r\n    const td7 = $('<div/>').addClass('recipeBackTabContainer');\r\n        const td7a = $('<div/>').addClass('recipeBackTab backTab1 selected').html(`Details`);\r\n        const td7b = $('<div/>').addClass('recipeBackTab backTab2').html(`Mastery`);\r\n    td7.append(td7a);\r\n    if (recipe.recipeType === 'normal') td7.append(td7b);\r\n\r\n    const td8 = $('<div/>').addClass('recipeTabContainer recipeTabDetails');\r\n        const td8a = $('<div/>').addClass('recipeDetailsContainer');\r\n            const td8a1 = $('<div/>').addClass('recipeBackDescription').html(recipe.itemDescription());\r\n            const td8a2 = $('<div/>').addClass('recipeStats').html(recipe.recipeListStats());\r\n            const td8a3 = $('<div/>').addClass('recipeCrafted').attr(\"id\",\"rc\"+recipe.id).html(`${recipe.craftCount} crafted`);\r\n        td8a.append(td8a1,td8a2,td8a3);\r\n    td8.append(td8a);\r\n\r\n    const td9 = $('<div/>').addClass('recipeTabContainer recipeTabMastery');\r\n        const td9a = $('<div/>').addClass('recipeMasteryContainer');\r\n            const td9a1 = $('<div/>').addClass('recipeBackDescription').attr(\"id\",\"rbd\"+recipe.id).html(\"Crafting this recipe will reduce the cost to master it, down to a maximum of 100.\");\r\n            const masteryCost = recipe.masteryCost();\r\n            const td9a2 = $('<div/>').addClass('recipeTotalCrafted tooltip').attr({\"id\": \"rcc\"+recipe.id, \"data-tooltip\":\"material_desc\",\"data-tooltip-value\":masteryCost.id}).data(\"rid\",recipe.id).html(`Master for ${masteryCost.amt} ${ResourceManager.idToMaterial(masteryCost.id).img}`);\r\n            if (recipe.isMastered()) {\r\n                td9a1.addClass(\"isMastered\").html(\"You have mastered this recipe. Its material cost has been removed, if any, and its higher rarity crafting chance has been doubled.\");\r\n                td9a2.addClass(\"isMastered\").html(`<i class=\"fas fa-star-christmas\"></i> MASTERED`);\r\n            }\r\n            if (recipe.recipeType !== \"normal\") td9a2.hide();\r\n        td9a.append(td9a1,td9a2);\r\n    td9.append(td9a);\r\n\r\n    return $('<div/>').addClass('recipeCardBack').append(td6,td7,td8,td9);\r\n}\r\n\r\nfunction recipeMasteryBar(craftCount) {\r\n    craftCount = Math.min(100,craftCount);\r\n    const masteryWidth = (craftCount).toFixed(1)+\"%\";\r\n    const masteryBarDiv = $(\"<div/>\").addClass(\"masteryBarDiv\").attr(\"id\",\"masteryBarDiv\");\r\n    const masteryBar = $(\"<div/>\").addClass(\"masteryBar\").attr(\"id\",\"masteryBar\");\r\n    if (craftCount >= 100) {\r\n        masteryBarDiv.addClass(\"isMastered\");\r\n        masteryBar.attr(\"data-label\",`Mastered`);\r\n    } else masteryBar.attr(\"data-label\",`${craftCount} / 100`);\r\n    const masteryBarFill = $(\"<div/>\").addClass(\"masteryBarFill\").attr(\"id\",\"masteryFill\").css('width', masteryWidth);\r\n    return masteryBarDiv.append(masteryBar,masteryBarFill);\r\n}\r\n\r\nfunction refreshMasteryBar() {\r\n    recipeList.recipes.forEach((recipe) => {\r\n        const rr = $(\"#rc\"+recipe.id)\r\n        rr.html(`${recipe.craftCount} crafted`);\r\n    });\r\n}\r\n\r\nfunction refreshCraftedCount() {\r\n    recipeList.recipes.forEach(recipe => {\r\n        const rcc = $(\"#rcc\"+recipe.id);\r\n        const rbd = $(\"#rbd\"+recipe.id);\r\n        const rms = $(\"#rms\"+recipe.id);\r\n        const rcd = $(\"#\"+recipe.id+\"rcd\");\r\n        const material = (recipe.mcost) ? Object.keys(recipe.mcost)[0] : \"M201\";\r\n        rcc.html(`Master for ${Math.max(100,1000-9*recipe.craftCount)} ${ResourceManager.idToMaterial(material).img}`);\r\n        if (recipe.isMastered()) {\r\n            rbd.addClass(\"isMastered\").html(\"You have mastered this recipe. Its material cost has been removed, if any, and its higher rarity crafting chance has been doubled.\");\r\n            rcc.addClass(\"isMastered\").removeClass(\"tooltip\").html(`<i class=\"fas fa-star-christmas\"></i> MASTERED`);\r\n            rms.addClass(\"isMastered\").html(`<i class=\"fas fa-star-christmas\"></i> MASTERED`);\r\n            rcd.find(\".matCost\").attr({\"data-tooltip\":\"material_desc_mastered\",\"data-tooltip-value\":material.id}).addClass(\"isMastered\");\r\n        }\r\n    });\r\n}\r\n \r\n// Refresh and show current number of item in inventory on recipe card\r\nfunction refreshCardInvCount() {\r\n    recipeList.recipes.forEach((recipe) => {\r\n        const rr = $(\"#rr\"+recipe.id+\" .recipeAmount\");\r\n        const invCount = Inventory.itemCountAll(recipe.id);\r\n        rr.html(invCount);\r\n    });\r\n}\r\n\r\nfunction recipeCanCraft() {\r\n    //loops through recipes, adds class if disabled\r\n    recipeList.recipes.forEach(recipe => {\r\n        if (recipe.recipeType !== \"normal\") return;\r\n        if (recipe.canProduce) recipe.recipeDiv.removeClass(\"recipeCraftDisable\");\r\n        else recipe.recipeDiv.addClass(\"recipeCraftDisable\");\r\n    });\r\n}\r\n\r\nconst $blueprintUnlock = $(\"#BlueprintUnlock\");\r\nlet cacheBlueprintType = null;\r\n\r\n$(document).on('click', '.recipeCraft', (e) => {\r\n    //click on a recipe to slot it\r\n    e.preventDefault();\r\n    const itemID = $(e.currentTarget).attr(\"id\");\r\n    actionSlotManager.addSlot(itemID);\r\n});\r\n\r\n$(document).on('click', '.recipeSelect', (e) => {\r\n    //click on a recipe filter\r\n    e.preventDefault();\r\n    $(\".recipeCardInfo\").removeClass(\"recipeCardFlipped\");\r\n    $(\".recipeCardFront\").removeClass(\"recipeCardDisabled\");\r\n    const type = $(e.target).attr(\"id\").substring(2);\r\n    recipeList.recipeFilterType = type;\r\n    recipeList.recipeFilterString = \"\";\r\n    recipeFilterList();\r\n})\r\n\r\n$(document).on('click','.recipeDescription', (e) => {\r\n    e.preventDefault();\r\n    $(\".recipeCardInfo\").removeClass(\"recipeCardFlipped\");\r\n    $(\".recipeCardFront\").removeClass(\"recipeCardDisabled\");\r\n    $(\".recipeTabContainer\").addClass(\"none\");\r\n    $(\".recipeBackTab\").removeClass(\"selected\");\r\n    $(\".backTab1\").addClass(\"selected\");\r\n    $(\".recipeTabDetails\").removeClass(\"none\");\r\n    $(e.currentTarget).parent().addClass(\"recipeCardDisabled\");\r\n    $(e.currentTarget).parent().parent().addClass(\"recipeCardFlipped\");\r\n});\r\n\r\n$(document).on('click','.recipeTotalCrafted', (e) => {\r\n    e.preventDefault();\r\n    const recipeID = $(e.currentTarget).data(\"rid\");\r\n    recipeList.attemptMastery(recipeID);\r\n})\r\n\r\n$(document).on('click','.recipeClose', (e) => {\r\n    e.preventDefault();\r\n    $(e.currentTarget).parent().prev().removeClass(\"recipeCardDisabled\");\r\n    $(e.currentTarget).parent().parent().removeClass(\"recipeCardFlipped\");\r\n});\r\n\r\n$(document).on('click','.recipeBackTab', (e) => {\r\n    e.preventDefault();\r\n    name = $(e.currentTarget).text();\r\n    $(\".recipeTabContainer\").addClass(\"none\");\r\n    $(\".recipeTab\"+name).removeClass(\"none\");\r\n    $(\".recipeBackTab\").removeClass(\"selected\");\r\n    $(e.currentTarget).addClass(\"selected\");\r\n});\r\n\r\n\r\nconst $recipeSortInput = $(\"#recipeSortInput\");\r\n\r\n//clicking button runs search\r\n$(document).on('click','.recipeSortButton', (e) => {\r\n    e.preventDefault();\r\n    const searchString = $recipeSortInput.val();\r\n    if (searchString.length < 2) return Notifications.searchLengthInvalid();\r\n    recipeList.recipeFilterString = searchString;\r\n    recipeList.recipeFilterType = \"default\";\r\n    recipeFilterList();\r\n});\r\n\r\n//enter key searches if you're in sort input\r\n$(document).on('keydown','.recipeSortInput', (e) => {\r\n    if (e.keyCode !== 13) return;\r\n    e.preventDefault();\r\n    const searchString = $recipeSortInput.val();\r\n    if (searchString.length < 2) return Notifications.searchLengthInvalid();\r\n    recipeList.recipeFilterString = searchString;\r\n    recipeList.recipeFilterType = \"default\";\r\n    recipeFilterList();\r\n});\r\n\r\n// Prevent hotkey input when search bar focused\r\n$(document).on('focus','.recipeSortInput', (e) => {\r\n    settings.dialogStatus = 1;\r\n    saveSettings();\r\n});\r\n\r\n$(document).on('blur','.recipeSortInput', (e) => {\r\n    settings.dialogStatus = 0;\r\n    saveSettings();\r\n});\r\n"],"file":"recipes.js"}