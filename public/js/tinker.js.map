{"version":3,"sources":["../../src/js/tinker.js"],"names":["$tinkerBuilding","$","$tinkerMaterials","$tinkerSlots","$tinkerCommands","tinkerCommand","props","Object","assign","time","acted","min","state","enabled","reward","save","id","createSave","act","idAmt","amt","loadSave","ms","attemptStart","Inventory","full","maxTime","ResourceManager","available","mcost1","mcost1amt","mcost2","mcost2amt","addMaterial","increaseAct","TinkerManager","newTrinket","creates","max","Math","refreshTinkerCommands","container","type","deconAmt","commands","lvl","dT002","dT003","dT004","forEach","c","push","command","idToCommand","undefined","addTime","refreshTinkerSlotProgress","find","a","addCommand","action","commandID","trinketID","scale","floor","normalDistribution","item","itemContainer","addToInventory","toggle","addLevel","feedCommon","rarity","tinkerMats","initiateTinkerBldg","show","refreshTinkerMats","empty","mat","addClass","attr","html","sidebarMaterial","appendTo","d1","data","enable","append","removeClass","name","d2","createTinkerMaterialDiv","d3","idToMaterial","img","createTinkerStatDiv","stat","status","miscIcons","star","createTinkerProgress","res","d","percent","width","toFixed","datalabel","msToTime","css","d1a","s1","$tinkerRangeContainer","populateTinkerRange","tinkerRangeDesc","commandName","commandStatus","document","on","e","tinkerID","currentTarget","value","parseInt","val","preventDefault"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nconst $tinkerBuilding = $(\"#tinkerBuilding\");\r\nconst $tinkerMaterials = $(\"#tinkerMaterials\");\r\nconst $tinkerSlots = $(\"#tinkerSlots\");\r\nconst $tinkerCommands = $(\"#tinkerCommands\");\r\n\r\nclass tinkerCommand {\r\n    constructor(props) {\r\n        Object.assign(this, props);\r\n        this.time = 0;\r\n        this.acted = 0;\r\n        this.min = 1;\r\n        this.state = \"idle\";\r\n        this.enabled = false;\r\n        this.reward = null;\r\n    }\r\n    createSave() {\r\n        const save = {};\r\n        save.id = this.id;\r\n        save.time = this.time;\r\n        save.state = this.state;\r\n        save.enabled = this.enabled;\r\n        if (this.reward !== null) save.reward = this.reward.createSave();\r\n        else save.reward = null;\r\n        save.acted = this.acted;\r\n        save.min = this.min;\r\n        save.act = this.act;\r\n        return save;\r\n    }\r\n    loadSave(save) {\r\n        this.time = save.time;\r\n        this.state = save.state;\r\n        this.enabled = save.enabled;\r\n        if (save.reward !== null) {\r\n            this.reward = new idAmt(save.reward.id,save.reward.amt);\r\n            this.reward.loadSave(save.reward);\r\n        }\r\n        this.acted = save.acted;\r\n        this.min = save.min;\r\n    }\r\n    addTime(ms) {\r\n        if (!this.enabled) return;\r\n        if (this.state === \"idle\" || this.state === \"Need Material\") this.attemptStart();\r\n        if (this.state === \"Inventory Full\" && !Inventory.full()) this.state = \"running\";\r\n        if (this.state === \"running\") {\r\n            this.time += ms;\r\n            if (this.time >= this.maxTime) {\r\n                this.time = this.maxTime\r\n                this.act();\r\n            }\r\n        }\r\n    }\r\n    toggle() {\r\n        this.enabled = !this.enabled;\r\n    }\r\n    attemptStart() {\r\n        if (this.state === \"running\") return;\r\n        if (this.id === \"T001\")  return;\r\n        if (!ResourceManager.available(this.mcost1,this.mcost1amt)) return this.state = \"Need Material\"; \r\n        if (!ResourceManager.available(this.mcost2,this.mcost2amt)) return this.state = \"Need Material\";\r\n        ResourceManager.addMaterial(this.mcost1,-this.mcost1amt);\r\n        ResourceManager.addMaterial(this.mcost2,-this.mcost2amt);\r\n        this.state = \"running\";\r\n    }\r\n    act() {\r\n        if (this.id === \"T001\") {\r\n            if (this.reward.id !== null) ResourceManager.addMaterial(this.reward.id,this.reward.amt);\r\n            this.reward = null;\r\n            this.time = 0;\r\n            this.state = \"idle\";\r\n            this.increaseAct();\r\n            return;\r\n        }\r\n        if (Inventory.full()) return this.state = \"Inventory Full\";\r\n        TinkerManager.newTrinket(this.id,this.creates,this.min);\r\n        this.time = 0;\r\n        this.state = \"idle\";\r\n        this.increaseAct();\r\n    }\r\n    increaseAct() {\r\n        if (this.min === TinkerManager.max()) return;\r\n        this.acted += 1;\r\n        if (this.acted >= 5) {\r\n            this.acted = 0;\r\n            this.min += 1;\r\n            this.min = Math.min(this.min,TinkerManager.max());\r\n            refreshTinkerCommands();\r\n        }\r\n    }\r\n    feedCommon(container) {\r\n        if (this.id !== \"T001\" || this.state === \"running\" || container.type === \"Trinkets\") return false;\r\n        this.reward = new idAmt(\"M802\",container.deconAmt());\r\n        this.state = \"running\";\r\n        return true;\r\n    }\r\n}\r\n\r\nconst TinkerManager = {\r\n    commands : [],\r\n    lvl : 1,\r\n    dT002 : 0,\r\n    dT003 : 0,\r\n    dT004 : 0,\r\n    createSave() {\r\n        const save = {};\r\n        save.lvl = this.lvl;\r\n        save.commands = [];\r\n        save.dT002 = this.dT002;\r\n        save.dT003 = this.dT003;\r\n        save.dT004 = this.dT004;\r\n        this.commands.forEach(c => save.commands.push(c.createSave()));\r\n        return save;\r\n    },\r\n    loadSave(save) {\r\n        save.commands.forEach(c => {\r\n            const command = this.idToCommand(c.id);\r\n            command.loadSave(c);\r\n        });\r\n        this.lvl = save.lvl;\r\n        if (save.dT002 !== undefined) this.dT002 = save.dT002;\r\n        if (save.dT003 !== undefined) this.dT003 = save.dT003;\r\n        if (save.dT004 !== undefined) this.dT004 = save.dT004;\r\n    },\r\n    addTime(ms) {\r\n        this.commands.forEach(command => command.addTime(ms));\r\n        refreshTinkerSlotProgress();\r\n    },\r\n    idToCommand(id) {\r\n        return this.commands.find(a => a.id === id);\r\n    },\r\n    addCommand(action) {\r\n        this.commands.push(action);                                                             \r\n    },\r\n    newTrinket(commandID,trinketID,min) {\r\n        const scale = Math.floor(normalDistribution(min,this.max(),3));\r\n        if (scale < this[\"d\"+commandID]) return;\r\n        const item = new itemContainer(trinketID,0);\r\n        item.scale = scale;\r\n        Inventory.addToInventory(item);\r\n    },\r\n    toggle(commandID) {\r\n        const command = this.idToCommand(commandID);\r\n        command.toggle();\r\n    },\r\n    max() {\r\n        return 40+this.lvl*10;\r\n    },\r\n    addLevel() {\r\n        this.lvl += 1;\r\n        refreshTinkerCommands();\r\n    },\r\n    feedCommon(container) {\r\n        if (container.rarity !== 0) return false;\r\n        return this.idToCommand(\"T001\").feedCommon(container);\r\n    },\r\n    tinkerMats() {\r\n        return [\"M700\",\"M701\",\"M702\",\"M802\"];\r\n    }\r\n}\r\n\r\nfunction initiateTinkerBldg () {\r\n    $tinkerBuilding.show();\r\n    refreshTinkerMats();\r\n    refreshTinkerCommands();\r\n}\r\n\r\nfunction refreshTinkerMats() {\r\n    $tinkerMaterials.empty();\r\n    TinkerManager.tinkerMats().forEach(mat => {\r\n        $(\"<div/>\").addClass(\"tinkerMat tooltip\").attr({\"data-tooltip\":\"material_desc\",\"data-tooltip-value\":mat}).html(ResourceManager.sidebarMaterial(mat)).appendTo($tinkerMaterials);\r\n    });\r\n};  \r\n\r\nfunction refreshTinkerCommands() {\r\n    $tinkerCommands.empty();\r\n    TinkerManager.commands.forEach(command => {\r\n        const d1 = $(\"<div/>\").addClass(\"tinkerCommand\").data(\"tinkerID\",command.id).appendTo($tinkerCommands);\r\n            const toggle = $(\"<div/>\").addClass(\"toggleStatus\");\r\n                $(\"<div/>\").addClass(\"toggleCue\").appendTo(toggle);\r\n            const enable = $(\"<div/>\").attr(\"id\",\"enable\"+command.id).addClass(\"tinkerCommandEnable\").append(toggle).appendTo(d1);\r\n            if (!command.enabled) enable.removeClass(\"tinkerCommandEnable\").addClass(\"tinkerCommandDisable\");\r\n            $(\"<div/>\").addClass(\"tinkerCommandName\").html(command.name).appendTo(d1);\r\n            $(\"<div/>\").addClass(\"tinkerCommandHeader\").html(\"Command Start Cost\").appendTo(d1);\r\n            const d2 = $(\"<div/>\").addClass(\"trinketCommandCost\").html(\"Any sold common item\").appendTo(d1);\r\n            if (command.id !== \"T001\") {\r\n                d2.html(createTinkerMaterialDiv(command.mcost1,command.mcost1amt));\r\n                d2.append(createTinkerMaterialDiv(command.mcost2,command.mcost2amt));\r\n            }\r\n            $(\"<div/>\").addClass(\"tinkerCommandHeader\").html(\"Command Finish Reward\").appendTo(d1);\r\n            const d3 = $(\"<div/>\").addClass(\"trinketCommandReward\").appendTo(d1);\r\n                $(\"<div/>\").addClass(\"commandRewardContent\").html(`Earn ${ResourceManager.idToMaterial(\"M802\").img} instead of Gold for sale.`).appendTo(d3);\r\n            if (command.id !== \"T001\") {\r\n                d3.html(createTinkerStatDiv(command.stat));\r\n                $(\"<div/>\").addClass(\"commandRewardTrinket\").html(`Trinket`).appendTo(d3);\r\n            }\r\n            $(\"<div/>\").addClass(\"tinkerCommandStatus\").html(command.status).appendTo(d1);\r\n            if (command.id !== \"T001\") $(\"<div/>\").addClass(\"tinkerCommandRange\").html(`${miscIcons.star} ${command.min}-${TinkerManager.max()}`).appendTo(d1);\r\n            createTinkerProgress(command).appendTo(d1);\r\n    });\r\n};\r\n\r\nfunction createTinkerMaterialDiv(id,amt) {\r\n    const res = ResourceManager.idToMaterial(id);\r\n    return $(\"<div/>\").addClass(\"indvCost tooltip\").attr({\"data-tooltip\":\"material_desc\",\"data-tooltip-value\":res.id}).html(`${res.img}&nbsp;&nbsp;${amt}`);\r\n}\r\n\r\nfunction createTinkerStatDiv(stat) {\r\n    const d = $(\"<div/>\").addClass(\"tinkerCommandStat\");\r\n        $(\"<span/>\").addClass(\"tinkerCommandStatIcon\").html(miscIcons[stat]).appendTo(d);\r\n        $(\"<span/>\").addClass(\"tinkerCommandStatName\").html(stat).appendTo(d);\r\n    return d;\r\n}\r\n\r\nfunction refreshTinkerSlotProgress() {\r\n    TinkerManager.commands.forEach(command => {\r\n        const percent = command.time/command.maxTime;\r\n        const width = (percent*100).toFixed(1)+\"%\";\r\n        let datalabel = \"disabled\";\r\n        if (command.enabled && command.state !== \"running\") datalabel = command.state;\r\n        else if (command.enabled) datalabel = msToTime(command.maxTime-command.time);\r\n        $(\"#tinkerBar\"+command.id).attr(\"data-label\",datalabel);\r\n        $(\"#tinkerFill\"+command.id).css('width', width);\r\n    })\r\n};\r\n\r\nfunction createTinkerProgress(command) {\r\n    const percent = command.time/command.maxTime;\r\n    const width = (percent*100).toFixed(1)+\"%\";\r\n    const d1 = $(\"<div/>\").addClass(\"tinkerProgressDiv\");\r\n    const datalabel = command.enabled ? msToTime(command.maxTime-command.time) : \"\";\r\n    const d1a = $(\"<div/>\").addClass(\"tinkerBar\").attr(\"id\",\"tinkerBar\"+command.id).attr(\"data-label\",datalabel);\r\n    const s1 = $(\"<span/>\").addClass(\"tinkerBarFill\").attr(\"id\",\"tinkerFill\"+command.id).css('width', width);\r\n    return d1.append(d1a,s1);\r\n}\r\n\r\nconst $tinkerRangeContainer = $(\"#tinkerRangeContainer\");\r\n\r\nfunction populateTinkerRange() {\r\n    TinkerManager.commands.forEach(command => {\r\n        if (command.id === \"T001\") return;\r\n        const d = $(\"<div/>\").addClass(\"tinkerRangeBox\").appendTo($tinkerRangeContainer);\r\n            const tinkerRangeDesc = $(\"<div/>\").addClass(\"tinkerRangeDesc\").attr(\"id\",\"rangeLabel\"+command.id).appendTo(d);\r\n            const commandName = $(\"<div/>\").addClass(\"commandName\").html(`${command.name}`);\r\n            const commandStatus = $(\"<div/>\").addClass(\"commandStatus\");\r\n                if ((TinkerManager[\"d\"+command.id] === 0)) $(commandStatus).addClass(\"commandDisabled\").html(`Disabled`);\r\n                else $(commandStatus).html(`${TinkerManager[\"d\"+command.id]}${miscIcons.star}`);\r\n                tinkerRangeDesc.append(commandName,commandStatus);\r\n            $(\"<input type='range'/>\").addClass(\"tinkerRange\").attr({\"id\":\"range\"+command.id,\"max\":100,\"min\":0,\"step\":1,\"value\":TinkerManager[\"d\"+command.id],}).data(\"tinkerID\",command.id).appendTo(d);\r\n    })\r\n}\r\n\r\n$(document).on('input', '.tinkerRange', (e) => {\r\n    const tinkerID = $(e.currentTarget).data(\"tinkerID\");\r\n    const value = parseInt($(e.currentTarget).val());\r\n    TinkerManager[\"d\"+tinkerID] = value;\r\n    const commandName = $(\"<div/>\").addClass(\"commandName\").html(`${TinkerManager.idToCommand(tinkerID).name}`);\r\n    const commandStatus = $(\"<div/>\").addClass(\"commandStatus commandDisabled\").html(`Disabled`);\r\n    if (value === 0) $(\"#rangeLabel\"+tinkerID).empty().append(commandName,commandStatus);\r\n    else {\r\n        $(commandStatus).removeClass(\"commandDisabled\").html(`${$(e.currentTarget).val()}${miscIcons.star}`);\r\n        $(\"#rangeLabel\"+tinkerID).empty().append(commandName,commandStatus);\r\n    }\r\n});\r\n\r\n//enable or disable\r\n$(document).on('click', '.tinkerCommand', (e) => {\r\n    e.preventDefault();\r\n    const commandID =$(e.currentTarget).data(\"tinkerID\");\r\n    TinkerManager.toggle(commandID);\r\n    const command = TinkerManager.idToCommand(commandID);\r\n    if (command.enabled) $(\"#enable\"+commandID).addClass(\"tinkerCommandEnable\").removeClass(\"tinkerCommandDisable\");\r\n    else $(\"#enable\"+commandID).removeClass(\"tinkerCommandEnable\").addClass(\"tinkerCommandDisable\");\r\n});"],"file":"tinker.js"}